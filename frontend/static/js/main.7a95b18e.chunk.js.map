{"version":3,"sources":["components/AppHeader/AppHeader.js","components/Loading/Loading.js","components/Modal/Modal.js","components/Alert/Alert.js","components/NavBar/NavBar.js","components/Card/Card.js","components/Card/AddCard.js","components/Modal/ModalContents/SocietyModals/SocietyModals.js","others/helper.js","components/Modal/ModalContents/SocietyModals/AddSocietyModal.js","components/Modal/ModalContents/SocietyModals/EditSocietyModal.js","components/Modal/ModalContents/DeleteModal.js","components/Modal/ModalContents/FlatModals/FlatModals.js","components/Modal/ModalContents/CollectionModals/CollectionModals.js","components/Modal/ModalContents/FlatModals/AddFlatModal.js","components/Modal/ModalContents/FlatModals/EditFlatModal.js","components/Modal/ModalContents/FlatModals/ViewFlatModal.js","components/Modal/ModalContents/ExpenseModals/ExpenseModal.js","components/Modal/ModalContents/CollectionModals/AddCollectionModal.js","components/Modal/ModalContents/CollectionModals/EditCollectionModal.js","components/Modal/ModalContents/IncomeModals/UpdateIncomeModal.js","components/Modal/ModalContents/IncomeModals/ViewIncomeModal.js","components/Modal/ModalContents/SocietyUserModal/SocietyUserModal.js","components/Modal/ModalContents/ExpenseModals/AddExpenseModal.js","components/Modal/ModalContents/ExpenseModals/EditExpenseModal.js","components/Modal/ModalContents/ExpenseModals/ViewExpenseModal.js","components/Modal/ModalContents/SocietyUserModal/AddSocietyUserModal.js","components/Modal/ModalContents/SocietyUserModal/EditSocietyUserModal.js","components/Modal/ModalContents/SocietyUserModal/ViewSocietyUserModal.js","components/Modal/ModalContents/FlatModals/TransferDueAmount.js","pages/FlatList/FlatList.js","pages/Home/SocietyList.js","pages/Home/Home.js","pages/UserForms/LoginForm.js","pages/UserForms/SignUpForm.js","pages/Collections/Collections.js","pages/Collections/CollectionSummary.js","pages/Incomes/Incomes.js","pages/Expenses/Expenses.js","pages/Transactions/Transactions.js","pages/SocietyUsers/SocietyUsers.js","pages/UserDetails/BasicDetails.js","pages/UserDetails/ChangePassword.js","pages/UserDetails/SecurityQuestions.js","pages/UserDetails/UserDetails.js","pages/ForgotPassword/ResetPassword.js","pages/ForgotPassword/AnswerSecurityQuestions.js","pages/ForgotPassword/ForgotPassword.js","pages/About/About.js","App.js","reportWebVitals.js","index.js"],"names":["AppHeader","className","to","Loading","spinner","useState","intervalId","setIntervalId","getRandomNumber","range","Math","floor","random","useEffect","el","document","getElementById","arorizeCircle","r","g","b","style","color","boxShadow","setInterval","id","clearInterval","React","memo","modalContent","getElementsByClassName","display","setTimeout","classList","add","remove","tabIndex","role","alert","setAlert","class","message","NavBar","user","setUser","pageYOffsetPlus","navBar","window","addEventListener","removeProperty","onscroll","visualViewport","width","height","pageYOffset","top","bottom","user_full_name","letterSpacing","onClick","title","xmlns","focusable","viewBox","fill","d","type","hidden","Card","header","body","footer","maxWidth","AddCard","setModalContent","cursor","getSocieties","setDetails","setErrors","setCountries","details","errors","countries","stringContainsNumber","string","string1","String","i","length","isNaN","charAt","getLongDate","dateString","output","Date","toLocaleDateString","year","month","day","setDependencies","dependencyArray","submitHandler","e","url","method","item","preventDefault","axios","data","then","res","err","undefined","response","getCountries","get","console","log","handleChange","target","name","value","validateFields","test","societyModalBodyTemplate","onChange","onBlur","address","pin_code","countryId","map","country","AddSocietyModal","onSubmit","EditSocietyModal","initialDetails","DeleteModal","deleteUrl","entityName","getEntities","delete","setUserSuggestions","setSelectedFlatMembers","getSocietyFlats","userSuggestions","selectedFlatMembers","users","getSocietyCollections","setCollectionTypes","collectionTypes","getSocietyUsers","societyId","current","methodName","userSelectInputs","members","filter","obj","email","push","formCheckInputs","owner","checked","showUserSuggestions","suggestions","suggestionList","toLowerCase","startsWith","currentTarget","getFlatMembers","template","userSelectInputTemplate","forEach","defaultChecked","list","placeholder","onKeyUp","onFocus","defaultValue","splice","dataset","index","flatModalBodyTemplate","code","area","AddFlatModal","useRef","EditFlatModal","ViewFlatModal","userSelectViewTemplate","readOnly","disabled","getExpenses","setSenderAccounts","setReceiverAccounts","setPaymentMethods","senderAccounts","receiverAccounts","paymentMethods","getCollectionTypes","collectionModalBodyTemplate","typeId","fixed","collectionStartDate","max","toISOString","split","rate","padding","AddCollectionModal","EditCollectionModal","UpdateIncome","incomeId","expectedAmount","getIncomes","senderId","amount","receiverId","date","methodId","transactionComment","accountSuggestions","setAccountSuggestions","defaultDetails","currentDetails","newOptions","account","receiverEmail","putDetails","put","suggestion","ViewIncomeModal","setUsers","existingUsers","dependencies","setDetailsForExpenseTransaction","expenseId","senderEmail","getExpenseModalBodyTemplate","senderAccount","AddExpenseModal","collectionId","EditExpenseModal","ViewExpenseModal","selectedUser","getUsers","societyUserModalBodyTemplate","exisUser","includes","isAdmin","htmlFor","AddSocietyUserModal","EditSocietyUserModal","ViewSocietyUserModal","TransferDueAmount","senderFlat","flats","senderFlatId","receiverFlatCode","dueAmount","comment","flat","post","recieverFlatCode","FlatList","setSpinner","useParams","setFlats","currency","permissionError","setPermissionError","cardTxtClassList","staus","SocietyList","societies","setSocieties","getNamedId","replace","contains","society","dropdownMenu","marginLeft","LoginForm","getUser","username","password","remember_me","localStorage","clear","backgroundColor","marginTop","borderRadius","config","headers","btoa","setItem","token","SignUpForm","phone","confirm_password","setConfirmPassword","defaultErr","outlineRed","script","createElement","src","async","appendChild","removeChild","captchaField","getElementsByName","process","Collections","collections","setCollections","collection","replaceAll","CollectionSummary","collectionName","incomeSummary","totalExpected","totalReceived","remaining","expenseSummary","totalExpenditure","previousBalance","balance","summary","setSummary","Incomes","incomes","incomeData","setIncomeData","scope","income","flatCode","isPaid","Expenses","expenses","expenseData","setExpenseData","expense","expenseEntity","expenseAmount","Transactions","transaction","public_id","sender","receiver","paymentMethod","SocietyUsers","societyUsers","setSocietyUsers","societyUser","BasicDetails","ChangePassword","currPassword","newPassword","confirmPassword","SecurityQuestions","currentPassword","questions","reRender","securityQuestions","setSecurityQuestions","setQuestionSuggestion","usedQuestions","q","toString","question","answers","answer","answer1","answer2","answer3","answer4","answer5","UserDetails","ResetPassword","isResetSuccess","setIsResetSuccess","Authorization","AnswerSecurityQuestions","userQuestions","setToken","ForgotPassword","setUserQuestions","About","App","getItem","defaults","common","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","baseURL","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7a95b18e.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './AppHeader.css';\r\n\r\nexport default function AppHeader() {\r\n    return (\r\n        <div className=\"app-header\">\r\n            <Link to={\"/\"}><h1 className=\"header\">Society Management System</h1></Link>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport './Loading.css';\r\n\r\nexport default function Loading({ spinner }) {\r\n    const [intervalId, setIntervalId] = useState(0);\r\n    const getRandomNumber = range => {\r\n        return Math.floor(Math.random() * range);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (spinner) {\r\n            const el = document.getElementById(\"spinner\");\r\n            const arorizeCircle = (el, range) => {\r\n                let r = getRandomNumber(range);\r\n                let g = getRandomNumber(range);\r\n                let b = getRandomNumber(range);\r\n                el.style.color = `rgb(${r},${g},${b})`;\r\n                el.style.boxShadow = `0px 0px 91px rgb(${r},${g},${b})`;\r\n            };\r\n            arorizeCircle(el, 255);\r\n            setIntervalId(setInterval(arorizeCircle, 1000, el, 255));\r\n        }\r\n    }, [spinner]);\r\n\r\n    return (\r\n        spinner ? (\r\n            <div>\r\n                <div className=\"loading-container\">\r\n                    <div id=\"spinner\">\r\n                        <span>Loading...</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"loading-backdrop\"></div>\r\n            </div>\r\n        ) :\r\n            (<>{clearInterval(intervalId)}</>)\r\n    );\r\n}\r\n","import React , { useEffect } from 'react';\r\n\r\nexport default React.memo(function Modal({modalContent}) {\r\n\r\n    useEffect(()=>{\r\n        const el = document.getElementsByClassName(\"modal\")[0];\r\n        if(modalContent){\r\n            el.style.display=\"block\";\r\n            setTimeout(()=>el.classList.add(\"show\"), 300);\r\n        }\r\n        else{\r\n            el.classList.remove(\"show\");\r\n            setTimeout(()=> el.style.display=\"none\", 300);\r\n        }\r\n    }, [modalContent]);\r\n\r\n    return (\r\n        <div id=\"modal\" className={modalContent?\"modal-open\": \"\"}>\r\n            <div className=\"modal fade\" tabIndex=\"-1\">\r\n                <div className=\"modal-dialog\" role=\"document\">\r\n                    {modalContent}\r\n                </div>\r\n            </div>\r\n            {modalContent?(<div className=\"modal-backdrop fade show\"></div>):(<></>)}\r\n        </div>);\r\n});\r\n","import React, { useEffect } from 'react';\r\n\r\nimport './Alert.css';\r\n\r\nexport default React.memo(function Alert({alert, setAlert}) {\r\n\r\n    useEffect(()=>{\r\n        if(alert.class){\r\n            setTimeout(setAlert, 3000, { class: \"\", message: \"\" });\r\n        }\r\n    }, [alert.class]);\r\n\r\n    return <div className={\"text-center alert \" + (alert && alert.class?alert.class:\"\")}>\r\n        <span className=\"alert-msg\">{alert && alert.message?alert.message:\"\"}</span>\r\n    </div>;\r\n});","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './NavBar.css';\r\n\r\nexport default function NavBar({ user, setUser }) {\r\n    const logout = () => {\r\n        setUser({ \"user_full_name\": \"\"});\r\n    };\r\n    let pageYOffsetPlus = 0;\r\n    const navBar = document.getElementById(\"navbar-container\");\r\n    window.addEventListener(\"resize\", () => {\r\n        if (navBar) {\r\n            navBar.style.removeProperty(\"top\");\r\n            navBar.style.removeProperty(\"bottom\");\r\n        }\r\n    });\r\n    window.onscroll = () => {\r\n        if (navBar) {\r\n            if (window.visualViewport.width > window.visualViewport.height) {\r\n                if (window.pageYOffset > pageYOffsetPlus) {\r\n                    navBar.style.top = \"-2.8rem\";\r\n                } else {\r\n                    navBar.style.top = \"0rem\";\r\n                }\r\n            }\r\n            else {\r\n                if (window.pageYOffset > pageYOffsetPlus) {\r\n                    navBar.style.bottom = \"-2.8rem\";\r\n                } else {\r\n                    navBar.style.bottom = \"0rem\";\r\n                }\r\n            }\r\n            pageYOffsetPlus = window.pageYOffset;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div id=\"navbar-container\">\r\n            {user.user_full_name ? (<div id=\"nav-bar\" style={{ letterSpacing: \"4px\" }}>\r\n                <Link to={\"/\"} className=\"hd-bar-item hd-button\">Home</Link>\r\n                <Link to={\"/about\"} className=\"hd-bar-item hd-button\">About</Link>\r\n                <Link to={\"/user-details\"} className=\"hd-bar-item hd-button\">\r\n                <i className=\"fa fa-solid fa-user\"></i> {user.user_full_name}</Link>\r\n                <Link to={\"/login\"} onClick={logout} className=\"hd-bar-item hd-button\" title=\"Logout\">\r\n                    <i className=\"fa fa-solid fa-power-off\"></i>\r\n                </Link>\r\n                <label className=\"toggle-btn\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"moon\" className=\"moon\" role=\"img\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z\" /></svg>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"sun\" className=\"sun\" role=\"img\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z\" /></svg>\r\n                    <input id=\"theme-changer\" type=\"checkbox\" hidden />\r\n                    <span className=\"slider\"></span>\r\n                </label>\r\n            </div>) : <></>}\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport default function Card({ id, header, body, footer }) {\r\n    return <div key={id} className=\"p-3\" style={{ maxWidth: \"26.3rem\" }}>\r\n        <div className=\"card shadow d-inline-block align-top w-100\" style={{ height: \"12rem\" }}>\r\n            <h4 className=\"card-header font-weight-bold text-center text-truncate\">\r\n                {header}\r\n            </h4>\r\n            <div className=\"card-body d-flex flex-column justify-content-center\" style={{ height: \"5.7rem\" }}>\r\n                {body}\r\n            </div>\r\n            <div className=\"card-footer position-absolute w-100 bottom-0\r\n             bg-white d-flex align-items-center justify-content-around\">\r\n                {footer}\r\n            </div>\r\n        </div>\r\n    </div>;\r\n}\r\n","import React from 'react';\r\n\r\nexport default function AddCard({ setModalContent, modalContent, setAlert }) {\r\n    return <div className=\"p-3\" style={{ maxWidth: \"26.3rem\" }} title=\"Add Society\">\r\n        <div className=\"card shadow d-inline-block align-top w-100\" style={{ height: \"12rem\" }}>\r\n            <div className=\"display-1 text-center h-100 d-flex align-items-center justify-content-center\" style={{ color: \"rgb(200, 200, 200)\" }}>\r\n                <i className=\"fas fa-plus\" onClick={() => setModalContent(modalContent)} style={{ cursor: \"pointer\" }}></i>\r\n            </div>\r\n        </div>\r\n    </div>;\r\n}\r\n","import { stringContainsNumber } from '../../../../others/helper';\r\n\r\nimport axios from 'axios';\r\n\r\nlet setModalContent, setAlert, getSocieties,\r\n    setDetails, setErrors, setCountries, details, errors, countries;\r\n\r\nconst setDependencies = (dependencyArray) => {\r\n    [setModalContent, setAlert, getSocieties,\r\n        setDetails, setErrors, setCountries, details, errors, countries] = dependencyArray;\r\n};\r\n\r\nconst submitHandler = (e, url, method) => {\r\n    e.preventDefault();\r\n    for (const item in details) {\r\n        if (details[item] === \"\") {\r\n            setAlert({ class: \"alert-danger\", message: \"Please fill all the fields\" });\r\n            return;\r\n        }\r\n    }\r\n    for (const item in errors) {\r\n        if (errors[item] !== \"\") {\r\n            setAlert({ class: \"alert-danger\", message: \"Please fill correct details\" });\r\n            return;\r\n        }\r\n    }\r\n    axios({\r\n        url: url,\r\n        method: method,\r\n        data: details\r\n    }).then(\r\n        res => {\r\n            setModalContent(null);\r\n            getSocieties();\r\n            setAlert({ class: \"alert-success\", message: res.data.message });\r\n        },\r\n        err => {\r\n            if (err.response.data.message !== undefined) {\r\n                setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n            }\r\n            else {\r\n                setAlert({ class: \"alert-danger\", message: err.response.data });\r\n            }\r\n        }\r\n    );\r\n};\r\n\r\nconst getCountries = () => {\r\n    axios.get('getCountries').then(\r\n        res => {\r\n            setCountries(res.data);\r\n        },\r\n        err => console.log(err)\r\n    );\r\n};\r\n\r\nconst handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setDetails({ ...details, [name]: value });\r\n};\r\n\r\nconst validateFields = e => {\r\n    const { name, value } = e.target;\r\n    if (value === \"\") {\r\n        setErrors({ ...errors, [name]: \"Please enter a value\" });\r\n        return;\r\n    }\r\n\r\n    if (name === \"name\") {\r\n        let specialChars = /[!@#$%^&*()_+=[\\]{};':\"\\\\|<>/?]+/;\r\n        if (stringContainsNumber(value)) {\r\n            setErrors({ ...errors, [name]: \"Name cannot contain numbers\" });\r\n            return;\r\n        }\r\n        else if (specialChars.test(value)) {\r\n            setErrors({ ...errors, [name]: \"Name cannot contain special characters\" });\r\n            return;\r\n        }\r\n    }\r\n    setErrors({ ...errors, [name]: \"\" });\r\n};\r\n\r\nconst societyModalBodyTemplate = () => {\r\n    return <div className=\"modal-body\">\r\n        <div className=\"form-outline\">\r\n            <input type=\"text\" className=\"form-control form-control-lg\" name=\"name\"\r\n                onChange={handleChange} value={details.name} onBlur={validateFields} />\r\n            <label className=\"form-label floating-label\">Society Name</label>\r\n        </div>\r\n        <div className=\"validation-error\">{errors.name}</div>\r\n        <div className=\"form-outline\">\r\n            <input type=\"text\" className=\"form-control form-control-lg\" name=\"address\"\r\n                onChange={handleChange} value={details.address} onBlur={validateFields} />\r\n            <label className=\"form-label floating-label\">Address</label>\r\n        </div>\r\n        <div className=\"validation-error\">{errors.address}</div>\r\n        <div className=\"form-outline\">\r\n            <input type=\"number\" className=\"form-control form-control-lg hidden-arrows\" name=\"pin_code\"\r\n                onChange={handleChange} value={details.pin_code} onBlur={validateFields} />\r\n            <label className=\"form-label floating-label\">Pin Code</label>\r\n        </div>\r\n        <div className=\"validation-error\">{errors.pin_code}</div>\r\n        <div className=\"form-outline\">\r\n            <select className=\"form-select form-select-lg\" name=\"countryId\" data-value={details.countryId}\r\n                onChange={handleChange} value={details.countryId} onBlur={validateFields}>\r\n                <option style={{ display: \"none\" }}></option>\r\n                {countries.map((item, i) => <option key={i} value={item.id}>{item.name}</option>)}\r\n            </select>\r\n            <label className=\"form-label floating-label\">Country</label>\r\n        </div>\r\n        <div className=\"validation-error\">{errors.country}</div>\r\n    </div>;\r\n};\r\n\r\nexport { setDependencies, societyModalBodyTemplate, submitHandler, getCountries };","const stringContainsNumber = string => {\r\n    let string1 = String(string);\r\n    for (let i = 0; i < string1.length; i++) {\r\n        if (!isNaN(string1.charAt(i)) && string1.charAt(i) !== \" \") {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nconst getLongDate = dateString => {\r\n    let options = { year: 'numeric', month: 'short', day: 'numeric' };\r\n    let date = new Date(dateString);\r\n    let output = date.toLocaleDateString('en-UK', options);\r\n    return output !== \"Invalid Date\" ? output : \"\";\r\n};\r\n\r\nexport { stringContainsNumber, getLongDate };","import React, { useEffect, useState } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nimport '../../../../pages/UserForms/Forms.css';\r\n\r\nimport { setDependencies, societyModalBodyTemplate, submitHandler, getCountries } from './SocietyModals';\r\n\r\nexport default function AddSocietyModal({ setModalContent, setAlert, getSocieties }) {\r\n    const [details, setDetails] = useState({ name: \"\", address: \"\", pin_code: \"\", countryId: \"\" });\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const [countries, setCountries] = useState([]);\r\n\r\n    setDependencies([setModalContent, setAlert, getSocieties, \r\n        setDetails, setErrors, setCountries, details, errors, countries]);\r\n    useEffect(getCountries, []);\r\n\r\n    return (alert && alert.class===\"alert-success\")?(<Navigate to={'/'}/>):(<div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">Add Society</h5>\r\n            <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n            </button>\r\n        </div>\r\n        <form onSubmit={e=>submitHandler(e, \"addSociety\", \"POST\")}>\r\n            {societyModalBodyTemplate()}\r\n            <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n                <button type=\"submit\" className=\"btn btn-primary\">Add</button>\r\n                <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n            </div>\r\n        </form>\r\n    </div>);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nimport '../../../../pages/UserForms/Forms.css';\r\n\r\nimport { setDependencies, societyModalBodyTemplate, submitHandler, getCountries } from './SocietyModals';\r\n\r\nexport default function EditSocietyModal({ initialDetails, setModalContent, setAlert, getSocieties}) {\r\n    const [details, setDetails] = useState(initialDetails);\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const [countries, setCountries] = useState([]);\r\n\r\n    setDependencies([setModalContent, setAlert, getSocieties, \r\n        setDetails, setErrors, setCountries, details, errors, countries]);\r\n    useEffect(getCountries, []);\r\n\r\n    return (alert && alert.class===\"alert-success\")?(<Navigate to={'/'}/>):(<div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">Edit Society</h5>\r\n            <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n            </button>\r\n        </div>\r\n        <form onSubmit={e=> submitHandler(e, \"updateSociety\", \"PUT\")}>\r\n            {societyModalBodyTemplate()}\r\n            <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n                <button type=\"submit\" className=\"btn btn-primary\">Save</button>\r\n                <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n            </div>\r\n        </form>\r\n    </div>);\r\n}","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nexport default function DeleteModal({ deleteUrl, entityName, setModalContent, setAlert, getEntities}) {\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        axios.delete(deleteUrl).then(\r\n            res => {\r\n                setModalContent(null);\r\n                getEntities();\r\n                setAlert({ class: \"alert-success\", message: res.data.message });\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    return (alert && alert.class===\"alert-success\")?(<Navigate to={'/'}/>):(<div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">Delete Society</h5>\r\n            <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n            </button>\r\n        </div>\r\n        <form onSubmit={submitHandler}>\r\n            <div className=\"modal-body\">\r\n                <div>Are you sure you want to delete <strong>{entityName}</strong>?</div>\r\n            </div>\r\n            <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n                <button type=\"submit\" className=\"btn btn-primary\">Delete</button>\r\n                <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n            </div>\r\n        </form>\r\n    </div>);\r\n}\r\n","import axios from 'axios';\r\n\r\nlet setDetails, setErrors, setUserSuggestions, setSelectedFlatMembers,\r\n    setModalContent, setAlert, getSocietyFlats, userSuggestions, selectedFlatMembers, details, users, errors;\r\nconst setDependencies = dependencyArray => {\r\n    [setDetails, setErrors, setUserSuggestions, setSelectedFlatMembers,\r\n        setModalContent, setAlert, getSocietyFlats, userSuggestions, selectedFlatMembers, details, users, errors] = dependencyArray;\r\n};\r\n\r\nconst getSocietyUsers = societyId => {\r\n    axios.get(`getSocietyUsers/${societyId}`).then(\r\n        res => {\r\n            users.current = res.data;\r\n        },\r\n        err => console.log(err)\r\n    );\r\n};\r\n\r\nconst submitHandler = (e, url, methodName) => {\r\n    e.preventDefault();\r\n    for (const item in details) {\r\n        if (details[item] === \"\" && item !== \"owner\") {\r\n            setAlert({ class: \"alert-danger\", message: \"Please fill all the fields\" });\r\n            return;\r\n        }\r\n    }\r\n    for (const item in errors) {\r\n        if (errors[item] !== \"\") {\r\n            setAlert({ class: \"alert-danger\", message: \"Please fill correct details\" });\r\n            return;\r\n        }\r\n    }\r\n    const userSelectInputs = document.getElementsByClassName(\"user-select\");\r\n    details.members = [];\r\n    for (let i = 0; i < userSelectInputs.length; i++) {\r\n        if (users.current.filter(obj => obj.email === userSelectInputs[i].value).length === 1) {\r\n            details.members.push(userSelectInputs[i].value);\r\n        }\r\n        else {\r\n            setAlert({ class: \"alert-danger\", message: \"Please select valid user(s)\" });\r\n            return;\r\n        }\r\n    }\r\n    const formCheckInputs = document.getElementsByClassName(\"form-check-input\");\r\n    details.owner = \"\";\r\n    for (let i = 0; i < formCheckInputs.length; i++) {\r\n        if (formCheckInputs[i].checked) {\r\n            details.owner = userSelectInputs[i].value;\r\n            break;\r\n        }\r\n    }\r\n    axios({\r\n        url: url,\r\n        method: methodName,\r\n        data: details\r\n    }).then(\r\n        res => {\r\n            setModalContent(null);\r\n            getSocietyFlats();\r\n            setAlert({ class: \"alert-success\", message: res.data.message });\r\n        },\r\n        err => {\r\n            if (err.response.data.message !== undefined) {\r\n                setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n            }\r\n            else {\r\n                setAlert({ class: \"alert-danger\", message: err.response.data });\r\n            }\r\n        }\r\n    );\r\n};\r\n\r\nconst handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setDetails({ ...details, [name]: value });\r\n};\r\n\r\nconst validateFields = e => {\r\n    const { name, value } = e.target;\r\n    if (value === \"\") {\r\n        setErrors({ ...errors, [name]: \"Please enter a value\" });\r\n        return;\r\n    }\r\n    setErrors({ ...errors, [name]: \"\" });\r\n};\r\n\r\nconst showUserSuggestions = e => {\r\n    const userSelectInputs = document.getElementsByClassName(\"user-select\");\r\n    let suggestions = users.current.filter(obj => {\r\n        for (let i = 0; i < userSelectInputs.length; i++) {\r\n            if (userSelectInputs[i].value === obj.email) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    });\r\n    suggestions = suggestions.filter(obj => obj.name.toLowerCase().startsWith(e.currentTarget.value) ||\r\n        obj.email.toLowerCase().startsWith(e.currentTarget.value) || !e.currentTarget.value\r\n    );\r\n    const suggestionList = suggestions.map(obj => {\r\n        return <option key={obj.email} value={obj.email}>{obj.name}</option>;\r\n    });\r\n    setUserSuggestions([...suggestionList]);\r\n};\r\n\r\nconst getFlatMembers = (id, template) => {\r\n    template = template ? template : userSelectInputTemplate;\r\n    axios(`getFlatMembers/${id}`).then(\r\n        res => {\r\n            if (res.data.owner) {\r\n                selectedFlatMembers.push(template(res.data.owner));\r\n                res.data.members.forEach((obj, i) => {\r\n                    if (obj.email !== res.data.owner.email) {\r\n                        selectedFlatMembers.push(template(obj));\r\n                    }\r\n                });\r\n                setSelectedFlatMembers([...selectedFlatMembers]);\r\n            }\r\n        },\r\n        err => {\r\n            setAlert({ class: \"alert-danger\", message: err.response.data });\r\n        }\r\n    );\r\n};\r\n\r\nconst userSelectInputTemplate = (user) => {\r\n    return <div key={selectedFlatMembers.length}\r\n        className=\"form-check d-flex align-items-center justify-content-between\">\r\n        <input className=\"form-check-input\" title=\"Select Owner\" type=\"radio\" name=\"members\"\r\n            defaultChecked={selectedFlatMembers.length === 0 ? true : false} />\r\n        <input list=\"user-suggestions\" type=\"text\" className=\"form-control user-select\"\r\n            placeholder=\"Search user\"\r\n            onKeyUp={showUserSuggestions}\r\n            onFocus={showUserSuggestions}\r\n            defaultValue={user ? user.email : \"\"}\r\n        />\r\n        <button type=\"button\"\r\n            data-index={selectedFlatMembers.length}\r\n            className=\"encircle btn btn-danger\"\r\n            onClick={e => {\r\n                selectedFlatMembers.splice(e.currentTarget.dataset.index, 1);\r\n                setSelectedFlatMembers([...selectedFlatMembers]);\r\n            }}>\r\n            <i className=\"fa fa-minus\"></i>\r\n        </button>\r\n    </div>;\r\n};\r\n\r\nconst flatModalBodyTemplate = () => {\r\n    return <div className=\"modal-body\">\r\n        <div className=\"form-outline\">\r\n            <input type=\"text\" className=\"form-control form-control-lg\" name=\"code\"\r\n                onChange={handleChange} value={details.code} onBlur={validateFields} />\r\n            <label className=\"form-label floating-label\">Flat Code</label>\r\n        </div>\r\n        <div className=\"validation-error\">{errors.code}</div>\r\n        <div className=\"form-outline\">\r\n            <input type=\"number\" className=\"form-control form-control-lg hidden-arrows\" name=\"area\"\r\n                onChange={handleChange} value={details.area} onBlur={validateFields} />\r\n            <label className=\"form-label floating-label\">Area</label>\r\n        </div>\r\n        <div className=\"validation-error\">{errors.area}</div>\r\n        <div>\r\n            <div>\r\n                <strong>Members</strong>\r\n            </div>\r\n            <datalist id=\"user-suggestions\">\r\n                {userSuggestions}\r\n            </datalist>\r\n            <div id=\"selected-flat-members\" >\r\n                {selectedFlatMembers}\r\n            </div>\r\n            <div>\r\n                <button type=\"button\" className=\"encircle btn btn-primary\" onClick={() => {\r\n                    selectedFlatMembers.push(userSelectInputTemplate());\r\n                    setSelectedFlatMembers([...selectedFlatMembers]);\r\n                }}>\r\n                    <i className=\"fas fa-plus\"></i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>;\r\n};\r\n\r\nexport { setDependencies, submitHandler, getSocietyUsers, getFlatMembers, flatModalBodyTemplate };","import axios from 'axios';\r\n\r\nimport { getLongDate } from '../../../../others/helper';\r\n\r\nlet setModalContent, setAlert, getSocietyCollections, setDetails, setErrors, setCollectionTypes,\r\n    details, errors, collectionTypes;\r\nconst setDependencies = dependencyArray => {\r\n    [setModalContent, setAlert, getSocietyCollections, setDetails, setErrors, setCollectionTypes,\r\n        details, errors, collectionTypes] = dependencyArray;\r\n};\r\n\r\nconst submitHandler = (e, url, method) => {\r\n    e.preventDefault();\r\n    for (const item in details) {\r\n        if (details[item] === \"\") {\r\n            setAlert({ class: \"alert-danger\", message: \"Please fill all the fields\" });\r\n            return;\r\n        }\r\n    }\r\n    for (const item in errors) {\r\n        if (errors[item] !== \"\") {\r\n            setAlert({ class: \"alert-danger\", message: \"Please fill correct details\" });\r\n            return;\r\n        }\r\n    }\r\n    axios({\r\n        url: url,\r\n        method: method,\r\n        data: details\r\n    }).then(\r\n        res => {\r\n            setModalContent(null);\r\n            getSocietyCollections();\r\n            setAlert({ class: \"alert-success\", message: res.data.message });\r\n        },\r\n        err => {\r\n            if (err.response.data.message !== undefined) {\r\n                setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n            }\r\n            else {\r\n                setAlert({ class: \"alert-danger\", message: err.response.data });\r\n            }\r\n        }\r\n    );\r\n};\r\n\r\nconst getCollectionTypes = () => {\r\n    axios.get('getCollectionTypes').then(\r\n        res => {\r\n            setCollectionTypes(res.data);\r\n        },\r\n        err => console.log(err)\r\n    );\r\n};\r\n\r\nconst handleChange = e => {\r\n    const { name, value, checked } = e.target;\r\n    if (name === \"fixed\") {\r\n        setDetails({ ...details, [name]: checked });\r\n    }\r\n    else {\r\n        setDetails({ ...details, [name]: value });\r\n    }\r\n};\r\n\r\nconst getCurrentMonthYearLabel = () => {\r\n    let options = { year: 'numeric', month: 'short' };\r\n    let date = new Date();\r\n    let output = date.toLocaleDateString('en-UK', options);\r\n    return output;\r\n};\r\n\r\nconst validateFields = e => {\r\n    const { name, value } = e.target;\r\n    if (value === \"\") {\r\n        setErrors({ ...errors, [name]: \"Please enter a value\" });\r\n        return;\r\n    }\r\n    setErrors({ ...errors, [name]: \"\" });\r\n};\r\n\r\nconst collectionModalBodyTemplate = () => {\r\n    return <div className=\"modal-body\">\r\n        <div className=\"form-outline\">\r\n            <select className=\"form-select form-select-lg\" name=\"typeId\" data-value={details.typeId}\r\n                onChange={e => {\r\n                    if (e.currentTarget.value === \"1\") {\r\n                        setDetails({ ...details, typeId: e.currentTarget.value, name: `Monthly collection ${getCurrentMonthYearLabel()}` });\r\n                    }\r\n                    else{\r\n                        setDetails({ ...details, typeId: e.currentTarget.value, fixed: true });\r\n                    }\r\n                }} value={details.typeId} onBlur={validateFields}>\r\n                <option style={{ display: \"none\" }}></option>\r\n                {collectionTypes.map((item, i) => <option key={i} value={item.id}>{item.type}</option>)}\r\n            </select>\r\n            <label className=\"form-label floating-label\">Type</label>\r\n        </div>\r\n        <div className=\"validation-error\">{errors.typeId}</div>\r\n        <div className=\"form-outline\">\r\n            <input type=\"text\" className=\"form-control form-control-lg\" name=\"name\"\r\n                onChange={handleChange} onBlur={validateFields}\r\n                value={details.name} />\r\n            <label className=\"form-label floating-label\">Name</label>\r\n        </div>\r\n        <div className=\"validation-error\">{errors.name}</div>\r\n        <div className=\"form-outline\">\r\n            <input type=\"date\" className=\"form-control form-control-lg datepicker\" name=\"collectionStartDate\"\r\n                onChange={handleChange} value={details.collectionStartDate} onBlur={validateFields} max={(new Date()).toISOString().split(\"T\")[0]}/>\r\n            <label className=\"date-label\">{getLongDate(details.collectionStartDate)}</label>\r\n            <label className=\"form-label floating-label\">Start Date</label>\r\n        </div>\r\n        <div className=\"validation-error\">{errors.collectionStartDate}</div>\r\n        <div className=\"form-outline\">\r\n            <input type=\"number\" className=\"form-control form-control-lg hidden-arrows\" name=\"rate\"\r\n                onChange={handleChange} value={details.rate} onBlur={validateFields} />\r\n            <label className=\"form-label floating-label\">Rate</label>\r\n        </div>\r\n        <div className=\"validation-error\">{errors.rate}</div>\r\n        <div className=\"form-check d-flex justify-content-start mb-4\">\r\n            <input\r\n                className=\"form-check-input\"\r\n                name=\"fixed\"\r\n                type=\"checkbox\"\r\n                onChange={handleChange}\r\n                checked={details.fixed}\r\n            />\r\n            <label className=\"form-check-label\"\r\n                style={{ padding: '0rem 1rem' }}>Fixed</label>\r\n        </div>\r\n    </div>;\r\n};\r\n\r\nexport { setDependencies, submitHandler, collectionModalBodyTemplate, getCollectionTypes };","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nimport { setDependencies, submitHandler, getSocietyUsers, flatModalBodyTemplate } from './FlatModals';\r\n\r\nimport '../../../../pages/UserForms/Forms.css';\r\nimport './FlatModals.css';\r\n\r\nexport default function AddFlatModal({ societyId, setModalContent, setAlert, getSocietyFlats }) {\r\n    const [details, setDetails] = useState({ societyId: societyId, code: \"\", area: \"\", members: [], owner: \"\" });\r\n    const users = useRef([]);\r\n    const [errors, setErrors] = useState({});\r\n    const [selectedFlatMembers, setSelectedFlatMembers] = useState([]);\r\n    const [userSuggestions, setUserSuggestions] = useState([]);\r\n\r\n    setDependencies([setDetails, setErrors, setUserSuggestions, setSelectedFlatMembers,\r\n        setModalContent, setAlert, getSocietyFlats, userSuggestions, selectedFlatMembers, details, users, errors]);\r\n\r\n    useEffect(() => {\r\n        getSocietyUsers(societyId);\r\n    }, []);\r\n    \r\n\r\n    return (alert && alert.class === \"alert-success\") ? (<Navigate to={'/'} />) : (<div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">Add Flat</h5>\r\n            <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n            </button>\r\n        </div>\r\n        <form onSubmit={e=> submitHandler(e, 'addFlat', 'POST')}>\r\n            {flatModalBodyTemplate()}\r\n            <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n                <button type=\"submit\" className=\"btn btn-primary\">Add</button>\r\n                <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n            </div>\r\n        </form>\r\n    </div>);\r\n}\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nimport { setDependencies, submitHandler, getSocietyUsers, getFlatMembers, flatModalBodyTemplate } from './FlatModals';\r\n\r\nimport '../../../../pages/UserForms/Forms.css';\r\nimport './FlatModals.css';\r\n\r\nexport default function EditFlatModal({ initialDetails, societyId, setModalContent, setAlert, getSocietyFlats }) {\r\n    const [details, setDetails] = useState(initialDetails);\r\n    const users = useRef([]);\r\n    const [errors, setErrors] = useState({});\r\n    const [selectedFlatMembers, setSelectedFlatMembers] = useState([]);\r\n    const [userSuggestions, setUserSuggestions] = useState([]);\r\n\r\n    setDependencies([setDetails, setErrors, setUserSuggestions, setSelectedFlatMembers,\r\n        setModalContent, setAlert, getSocietyFlats, userSuggestions, selectedFlatMembers, details, users, errors]);\r\n\r\n    useEffect(() => {\r\n        getSocietyUsers(societyId);\r\n        getFlatMembers(initialDetails.id);\r\n    }, []);\r\n\r\n    return (alert && alert.class === \"alert-success\") ? (<Navigate to={'/'} />) : (<div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">Edit Flat</h5>\r\n            <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n            </button>\r\n        </div>\r\n        <form onSubmit={e => submitHandler(e, 'updateFlat', 'PUT')}>\r\n            {flatModalBodyTemplate()}\r\n            <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n                <button type=\"submit\" className=\"btn btn-primary\">Save</button>\r\n                <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n            </div>\r\n        </form>\r\n    </div>);\r\n}","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nimport { setDependencies, getFlatMembers } from './FlatModals';\r\n\r\nimport '../../../../pages/UserForms/Forms.css';\r\nimport './FlatModals.css';\r\n\r\nexport default function ViewFlatModal({ initialDetails, setModalContent }) {\r\n    const [details, setDetails] = useState(initialDetails);\r\n    const users = useRef([]);\r\n    const [errors, setErrors] = useState({});\r\n    const [selectedFlatMembers, setSelectedFlatMembers] = useState([]);\r\n    const [userSuggestions, setUserSuggestions] = useState([]);\r\n\r\n    setDependencies([setDetails, setErrors, setUserSuggestions, setSelectedFlatMembers,\r\n        setModalContent, null, null, userSuggestions, selectedFlatMembers, details, users, errors]);\r\n\r\n    const userSelectViewTemplate = (user) => {\r\n        return <div key={selectedFlatMembers.length}\r\n            className=\"form-check d-flex align-items-center justify-content-between\">\r\n            <input className=\"form-check-input\" title=\"Selected Owner\" type=\"radio\" name=\"members\"\r\n                checked={selectedFlatMembers.length === 0 ? true : false} readOnly/>\r\n            <input list=\"user-suggestions\" type=\"text\" className=\"form-control w-100\"\r\n                value={`${user.name} (${user.email})`} disabled />\r\n        </div>;\r\n    };\r\n\r\n    useEffect(() => {\r\n        getFlatMembers(initialDetails.id, userSelectViewTemplate);\r\n    }, []);\r\n\r\n    return (alert && alert.class === \"alert-success\") ? (<Navigate to={'/'} />) : (<div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">View Flat</h5>\r\n            <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n            </button>\r\n        </div>\r\n        <div className=\"modal-body\">\r\n            <div className=\"form-outline mb-4\">\r\n                <input type=\"text\" className=\"form-control form-control-lg\" name=\"code\"\r\n                    value={details.code} disabled />\r\n                <label className=\"form-label floating-label\">Flat Code</label>\r\n            </div>\r\n            <div className=\"form-outline mb-4\">\r\n                <input type=\"number\" className=\"form-control form-control-lg hidden-arrows\" name=\"area\"\r\n                    value={details.area} disabled />\r\n                <label className=\"form-label floating-label\">Area</label>\r\n            </div>\r\n            <div>\r\n                <div>\r\n                    <strong>Members</strong>\r\n                </div>\r\n                <div id=\"selected-flat-members\" >\r\n                    {selectedFlatMembers.length>0?selectedFlatMembers:<small>No members yet</small>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div className=\"form-outline modal-footer d-flex justify-content-end\">\r\n            <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n        </div>\r\n    </div>);\r\n}","import axios from 'axios';\r\nimport { getLongDate } from '../../../../others/helper';\r\n\r\nlet setModalContent, setAlert, getExpenses, setDetails, setErrors,\r\n  setSenderAccounts, setReceiverAccounts, setPaymentMethods, details,\r\n  errors, senderAccounts, receiverAccounts, paymentMethods;\r\n\r\nconst setDependencies = dependencies => {\r\n  [setModalContent, setAlert, getExpenses, setDetails, setErrors,\r\n    setSenderAccounts, setReceiverAccounts, setPaymentMethods, details,\r\n    errors, senderAccounts, receiverAccounts, paymentMethods] = dependencies;\r\n};\r\n\r\nconst setDetailsForExpenseTransaction = expenseId => {\r\n  axios.get(`getDetailsForExpenseTransaction/${expenseId}`).then(\r\n    res => {\r\n      const defaultDetails = {};\r\n      if (res.data.currentDetails.receiverId) {\r\n        defaultDetails[\"senderEmail\"] = res.data.newOptions.senderAccounts.filter(\r\n          account => account.id === res.data.currentDetails.senderId)[0].email;\r\n      }\r\n      setSenderAccounts(res.data.newOptions.senderAccounts);\r\n      setReceiverAccounts(res.data.newOptions.receiverAccounts);\r\n      setPaymentMethods(res.data.newOptions.paymentMethods);\r\n      setDetails({ ...details, ...res.data.currentDetails, ...defaultDetails });\r\n    },\r\n    err => console.log(err)\r\n  );\r\n};\r\n\r\nconst submitHandler = (e, url, method) => {\r\n  e.preventDefault();\r\n  details.senderId = senderAccounts.filter(account => account.email === details.senderEmail)[0].id;\r\n  for (const item in details) {\r\n    if (details[item] === \"\" && item !== \"transactionComment\") {\r\n      setAlert({ class: \"alert-danger\", message: \"Please fill all the fields\" });\r\n      return;\r\n    }\r\n  }\r\n  for (const item in errors) {\r\n    if (errors[item] !== \"\") {\r\n      setAlert({ class: \"alert-danger\", message: \"Please fill correct details\" });\r\n      return;\r\n    }\r\n  }\r\n  const data = { ...details };\r\n  delete data.senderEmail;\r\n  axios({\r\n    url: url,\r\n    method: method,\r\n    data: data\r\n  }).then(\r\n    res => {\r\n      setModalContent(null);\r\n      getExpenses();\r\n      setAlert({ class: \"alert-success\", message: res.data.message });\r\n    },\r\n    err => {\r\n      if (err.response.data.message !== undefined) {\r\n        setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n      }\r\n      else {\r\n        setAlert({ class: \"alert-danger\", message: err.response.data });\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\nconst handleChange = e => {\r\n  const { name, value } = e.target;\r\n  setDetails({ ...details, [name]: value });\r\n};\r\n\r\nconst validateFields = e => {\r\n  const { name, value } = e.target;\r\n  if (value === \"\") {\r\n    setErrors({ ...errors, [name]: \"Please enter a value\" });\r\n    return;\r\n  }\r\n  setErrors({ ...errors, [name]: \"\" });\r\n};\r\n\r\nconst getExpenseModalBodyTemplate = () => {\r\n  return <div className=\"modal-body\">\r\n    <div className=\"form-outline\">\r\n      <input type=\"number\" className=\"form-control form-control-lg hidden-arrows\" name=\"amount\"\r\n        onChange={handleChange} onBlur={validateFields}\r\n        value={details.amount} />\r\n      <label className=\"form-label floating-label\">Amount</label>\r\n    </div>\r\n    <div className=\"validation-error\">{errors.amount}</div>\r\n    <div className=\"form-outline\">\r\n      <select className=\"form-select form-select-lg\" name=\"receiverId\" data-value={details.receiverId}\r\n        onChange={handleChange} value={details.receiverId} onBlur={validateFields}>\r\n        <option style={{ display: \"none\" }}></option>\r\n        {receiverAccounts.map((item, i) => <option key={i} value={item.id}>{item.name}</option>)}\r\n      </select>\r\n      <label className=\"form-label floating-label\">Expense Head</label>\r\n    </div>\r\n    <div className=\"validation-error\">{errors.receiverId}</div>\r\n    <div className=\"form-outline\">\r\n      <input type=\"text\" className=\"form-control form-control-lg\" name=\"senderEmail\"\r\n        onChange={handleChange} onBlur={validateFields}\r\n        value={details.senderEmail} list=\"sender-account-suggestions\" />\r\n      <datalist id=\"sender-account-suggestions\">\r\n        {senderAccounts.length > 0 && senderAccounts.map((senderAccount, i) =>\r\n          <option key={i} value={senderAccount.email}>{senderAccount.name}</option>)}\r\n      </datalist>\r\n      <label className=\"form-label floating-label\">Sender</label>\r\n    </div>\r\n    <div className=\"validation-error\">{errors.senderEmail}</div>\r\n    <div className=\"form-outline\">\r\n      <input type=\"date\" className=\"form-control form-control-lg datepicker\" name=\"date\"\r\n        onChange={handleChange} value={details.date}\r\n        onBlur={validateFields} max={(new Date()).toISOString().split(\"T\")[0]} />\r\n      <label className=\"date-label\">{getLongDate(details.date)}</label>\r\n      <label className=\"form-label floating-label\">Payment Date</label>\r\n    </div>\r\n    <div className=\"validation-error\">{errors.date}</div>\r\n    <div className=\"form-outline\">\r\n      <select className=\"form-select form-select-lg\" name=\"methodId\" data-value={details.methodId}\r\n        onChange={handleChange} value={details.methodId} onBlur={validateFields}>\r\n        <option style={{ display: \"none\" }}></option>\r\n        {paymentMethods.map((item, i) => <option key={i} value={item.id}>{item.method}</option>)}\r\n      </select>\r\n      <label className=\"form-label floating-label\">Payment Method</label>\r\n    </div>\r\n    <div className=\"validation-error\">{errors.methodId}</div>\r\n    <div className=\"form-outline\">\r\n      <textarea type=\"text\" className=\"form-control form-control-lg\" name=\"transactionComment\" data-value={details.transactionComment}\r\n        onChange={handleChange} value={details.transactionComment} />\r\n      <label className=\"form-label floating-label\">Comment</label>\r\n    </div>\r\n  </div>;\r\n};\r\n\r\nexport { setDependencies, submitHandler, setDetailsForExpenseTransaction, getExpenseModalBodyTemplate };","import React, { useState, useEffect} from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nimport { setDependencies, submitHandler, collectionModalBodyTemplate, getCollectionTypes } from './CollectionModals';\r\n\r\nimport '../../../../pages/UserForms/Forms.css';\r\n\r\nexport default function AddCollectionModal({ societyId, setModalContent, setAlert, getSocietyCollections }) {\r\n    const [details, setDetails] = useState({ societyId: societyId, name: \"\", typeId: \"\", rate: \"\", fixed: false, collectionStartDate: \"\"});\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const [collectionTypes, setCollectionTypes] = useState([]);\r\n\r\n    setDependencies([setModalContent, setAlert, getSocietyCollections, setDetails, setErrors, setCollectionTypes,\r\n    details, errors, collectionTypes]);\r\n\r\n    useEffect(()=>{\r\n        getCollectionTypes();\r\n    }, []);\r\n\r\n    return (alert && alert.class === \"alert-success\") ? (<Navigate to={'/'} />) : (<div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">Add Collection</h5>\r\n            <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n            </button>\r\n        </div>\r\n        <form onSubmit={e=> submitHandler(e, 'addCollection', 'POST')}>\r\n            {collectionModalBodyTemplate()}\r\n            <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n                <button type=\"submit\" className=\"btn btn-primary\">Add</button>\r\n                <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n            </div>\r\n        </form>\r\n    </div>);\r\n}\r\n","import React, { useState, useEffect} from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nimport { setDependencies, submitHandler, collectionModalBodyTemplate, getCollectionTypes } from './CollectionModals';\r\n\r\nimport '../../../../pages/UserForms/Forms.css';\r\n\r\nexport default function EditCollectionModal({ initialDetails, setModalContent, setAlert, getSocietyCollections }) {\r\n    const [details, setDetails] = useState(initialDetails);\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const [collectionTypes, setCollectionTypes] = useState([]);\r\n\r\n    setDependencies([setModalContent, setAlert, getSocietyCollections, setDetails, setErrors, setCollectionTypes,\r\n    details, errors, collectionTypes]);\r\n\r\n    useEffect(()=>{\r\n        getCollectionTypes();\r\n    }, []);\r\n\r\n    return (alert && alert.class === \"alert-success\") ? (<Navigate to={'/'} />) : (<div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">Edit Collection</h5>\r\n            <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n            </button>\r\n        </div>\r\n        <form onSubmit={e=> submitHandler(e, 'updateCollection', 'PUT')}>\r\n            {collectionModalBodyTemplate()}\r\n            <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n                <button type=\"submit\" className=\"btn btn-primary\">Save</button>\r\n                <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n            </div>\r\n        </form>\r\n    </div>);\r\n}","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getLongDate } from '../../../../others/helper';\r\n\r\nimport '../../../../pages/UserForms/Forms.css';\r\n\r\nexport default function UpdateIncome({ incomeId, expectedAmount, setModalContent, setAlert, getIncomes }) {\r\n    const [details, setDetails] = useState({\r\n        id: incomeId,\r\n        senderId: \"\",\r\n        amount: 0,\r\n        receiverId: \"\",\r\n        date: \"\",\r\n        methodId: \"\",\r\n        transactionComment: \"\"\r\n    });\r\n    const [errors, setErrors] = useState({});\r\n    const [accountSuggestions, setAccountSuggestions] = useState([]);\r\n    const [paymentMethods, setPaymentMethods] = useState([]);\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        details.receiverId = accountSuggestions.filter(account => account.email === details.receiverEmail)[0].id;\r\n        for (const item in details) {\r\n            if (details[item] === \"\" && item !== \"transactionComment\") {\r\n                setAlert({ class: \"alert-danger\", message: \"Please fill all the fields\" });\r\n                return;\r\n            }\r\n        }\r\n        for (const item in errors) {\r\n            if (errors[item] !== \"\") {\r\n                setAlert({ class: \"alert-danger\", message: \"Please fill correct details\" });\r\n                return;\r\n            }\r\n        }\r\n        const putDetails = { ...details };\r\n        delete putDetails.receiverEmail;\r\n        axios.put('updateIncome', putDetails).then(\r\n            res => {\r\n                setModalContent(null);\r\n                getIncomes();\r\n                setAlert({ class: \"alert-success\", message: res.data.message });\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target;\r\n        setDetails({ ...details, [name]: value });\r\n    };\r\n\r\n    const validateFields = e => {\r\n        const { name, value } = e.target;\r\n        if (value === \"\") {\r\n            setErrors({ ...errors, [name]: \"Please enter a value\" });\r\n            return;\r\n        }\r\n        setErrors({ ...errors, [name]: \"\" });\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios.get(`getDetailsForIncomeTransaction/${incomeId}`).then(\r\n            res => {\r\n                const defaultDetails = {};\r\n                if (!res.data.currentDetails.amount) {\r\n                    defaultDetails[\"amount\"] = expectedAmount;\r\n                }\r\n                if (res.data.currentDetails.receiverId) {\r\n                    defaultDetails[\"receiverEmail\"] = res.data.newOptions.receiverAccounts.filter(\r\n                        account => account.id === res.data.currentDetails.receiverId)[0].email;\r\n                }\r\n                setDetails({ ...details, ...res.data.currentDetails, ...defaultDetails });\r\n                setAccountSuggestions(res.data.newOptions.receiverAccounts);\r\n                setPaymentMethods(res.data.newOptions.paymentMethods);\r\n            },\r\n            err => console.log(err)\r\n        );\r\n    }, []);\r\n    return (\r\n        <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Update Income</h5>\r\n                <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n                </button>\r\n            </div>\r\n            <form onSubmit={submitHandler}>\r\n                <div className=\"modal-body\">\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"number\" className=\"form-control form-control-lg hidden-arrows\" name=\"amount\"\r\n                            onChange={handleChange} onBlur={validateFields}\r\n                            value={details.amount} />\r\n                        <label className=\"form-label floating-label\">Amount</label>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.amount}</div>\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"text\" className=\"form-control form-control-lg\" name=\"receiverEmail\"\r\n                            onChange={handleChange} onBlur={validateFields}\r\n                            value={details.receiverEmail} list=\"account-suggestions\" />\r\n                        <datalist id=\"account-suggestions\">\r\n                            {accountSuggestions.length > 0 && accountSuggestions.map((suggestion, i) => {\r\n                                return <option key={i} value={suggestion.email}>{suggestion.name}</option>;\r\n                            })}\r\n                        </datalist>\r\n                        <label className=\"form-label floating-label\">Receiver</label>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.receiverEmail}</div>\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"date\" className=\"form-control form-control-lg datepicker\" name=\"date\"\r\n                            onChange={handleChange} value={details.date}\r\n                            onBlur={validateFields} max={(new Date()).toISOString().split(\"T\")[0]} />\r\n                        <label className=\"date-label\">{getLongDate(details.date)}</label>\r\n                        <label className=\"form-label floating-label\">Payment Date</label>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.date}</div>\r\n                    <div className=\"form-outline\">\r\n                        <select className=\"form-select form-select-lg\" name=\"methodId\" data-value={details.methodId}\r\n                            onChange={handleChange} value={details.methodId} onBlur={validateFields}>\r\n                            <option style={{ display: \"none\" }}></option>\r\n                            {paymentMethods.map((item, i) => <option key={i} value={item.id}>{item.method}</option>)}\r\n                        </select>\r\n                        <label className=\"form-label floating-label\">Payment Method</label>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.methodId}</div>\r\n                    <div className=\"form-outline\">\r\n                        <textarea type=\"text\" className=\"form-control form-control-lg\" name=\"transactionComment\" data-value={details.transactionComment}\r\n                            onChange={handleChange} value={details.transactionComment}\r\n                            onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\">Comment</label>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Update</button>\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getLongDate } from '../../../../others/helper';\r\n\r\nimport '../../../../pages/UserForms/Forms.css';\r\n\r\nexport default function ViewIncomeModal({ incomeId, setModalContent}) {\r\n    const [details, setDetails] = useState({\r\n        senderId: \"\",\r\n        amount: 0,\r\n        receiverId: \"\",\r\n        date: \"\",\r\n        methodId: \"\",\r\n        transactionComment: \"\"\r\n    });\r\n    const [paymentMethods, setPaymentMethods] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios.get(`getDetailsForIncomeTransaction/${incomeId}`).then(\r\n            res => {\r\n                const defaultDetails = {};\r\n                if (res.data.currentDetails.receiverId) {\r\n                    defaultDetails[\"receiverEmail\"] = res.data.newOptions.receiverAccounts.filter(\r\n                        account => account.id === res.data.currentDetails.receiverId)[0].email;\r\n                }\r\n                setDetails({ ...res.data.currentDetails, ...defaultDetails });                \r\n                setPaymentMethods(res.data.newOptions.paymentMethods);\r\n            },\r\n            err => console.log(err)\r\n        );\r\n    }, []);\r\n    return (\r\n        <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">View Income</h5>\r\n                <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n                </button>\r\n            </div>\r\n            <form>\r\n                <div className=\"modal-body\">\r\n                    <div className=\"form-outline mb-4\">\r\n                        <input type=\"number\" className=\"form-control form-control-lg hidden-arrows\" name=\"amount\"\r\n                            value={details.amount} disabled/>\r\n                        <label className=\"form-label floating-label\">Amount</label>\r\n                    </div>\r\n                    <div className=\"form-outline mb-4\">\r\n                        <input type=\"text\" className=\"form-control form-control-lg\" name=\"receiverEmail\"\r\n                            value={details.receiverEmail} disabled/>\r\n                        <label className=\"form-label floating-label\">Receiver</label>\r\n                    </div>\r\n                    <div className=\"form-outline mb-4\">\r\n                        <input type=\"date\" className=\"form-control form-control-lg datepicker\" name=\"date\" disabled/>\r\n                        <label className=\"date-label bg-transparent\">{getLongDate(details.date)}</label>\r\n                        <label className=\"form-label floating-label\">Payment Date</label>\r\n                    </div>\r\n                    <div className=\"form-outline mb-4\">\r\n                        <select className=\"form-select form-select-lg\" name=\"methodId\" data-value={details.methodId}\r\n                        value={details.methodId} disabled>\r\n                            <option style={{ display: \"none\" }}></option>\r\n                            {paymentMethods.map((item, i) => <option key={i} value={item.id}>{item.method}</option>)}\r\n                        </select>\r\n                        <label className=\"form-label floating-label\">Payment Method</label>\r\n                    </div>\r\n                    <div className=\"form-outline\">\r\n                        <textarea type=\"text\" className=\"form-control form-control-lg\" name=\"transactionComment\"\r\n                        data-value={details.transactionComment} value={details.transactionComment} disabled/>\r\n                        <label className=\"form-label floating-label\">Comment</label>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-outline modal-footer d-flex justify-content-end\">\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import axios from 'axios';\r\nimport React from 'react';\r\n\r\nlet setDetails, setUsers, setModalContent, setAlert, getSocietyUsers,\r\n    details, users, existingUsers;\r\n\r\nconst setDependencies = dependencies => {\r\n    [setDetails, setUsers, setModalContent, setAlert, getSocietyUsers,\r\n        details, users, existingUsers] = dependencies;\r\n};\r\n\r\nconst submitHandler = (e, url, method) => {\r\n    e.preventDefault();\r\n    for (const item in details) {\r\n        if (details[item] === \"\") {\r\n            setAlert({ class: \"alert-danger\", message: \"Please fill all the fields\" });\r\n            return;\r\n        }\r\n    }\r\n    const data = { ...details };\r\n    delete data.name;\r\n    axios({\r\n        url: url,\r\n        method: method,\r\n        data: data\r\n    }).then(\r\n        res => {\r\n            setModalContent(null);\r\n            getSocietyUsers();\r\n            setAlert({ class: \"alert-success\", message: res.data.message });\r\n        },\r\n        err => {\r\n            if (err.response.data.message !== undefined) {\r\n                setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n            }\r\n            else {\r\n                setAlert({ class: \"alert-danger\", message: err.response.data });\r\n            }\r\n        }\r\n    );\r\n};\r\n\r\nconst handleChange = e => {\r\n    const { name, value, checked } = e.target;\r\n    if (name === \"email\") {\r\n        const selectedUser = users.filter(user => user.email === value.toLowerCase())[0];\r\n        if (selectedUser) {\r\n            setDetails({ ...details, [name]: value, name: selectedUser.name });\r\n        }\r\n        else {\r\n            setDetails({ ...details, [name]: value });\r\n        }\r\n    }\r\n    else if (name === \"isAdmin\") {\r\n        setDetails({ ...details, [name]: checked });\r\n    }\r\n};\r\n\r\nconst getUsers = () => {\r\n    axios.get(\"getUsers\").then(\r\n        res => {\r\n            setUsers(res.data);\r\n        },\r\n        err => console.log(err)\r\n    );\r\n};\r\n\r\nconst societyUserModalBodyTemplate = () => {\r\n    return (\r\n        <div className=\"modal-body\">\r\n            <div className=\"form-outline mb-4\">\r\n                <input type=\"text\" className=\"form-control form-control-lg\" name=\"email\"\r\n                    onChange={handleChange} value={details.email} list=\"user-suggestions\" />\r\n                <label className=\"form-label floating-label\">Email ID</label>\r\n            </div>\r\n            <datalist id=\"user-suggestions\">\r\n                {users.length > 0 && users.filter(user =>\r\n                    !(existingUsers.map(exisUser => exisUser.email)).includes(user.email)).map((user, i) =>\r\n                        <option key={i} value={user.email}>{user.name}</option>)}\r\n            </datalist>\r\n            <div className=\"form-outline mb-4\">\r\n                <input type=\"text\" className=\"form-control form-control-lg\" name=\"name\"\r\n                    value={details.name} disabled />\r\n                <label className=\"form-label floating-label\">Name</label>\r\n            </div>\r\n            <div className=\"form-check d-flex justify-content-start mb-4\">\r\n                <input\r\n                    className=\"form-check-input\"\r\n                    name=\"isAdmin\"\r\n                    type=\"checkbox\"\r\n                    onChange={handleChange}\r\n                    checked={details.isAdmin}\r\n                    id=\"isAdmin\"\r\n                />\r\n                <label className=\"form-check-label\" htmlFor=\"isAdmin\"\r\n                    style={{ padding: '0rem 1rem' }}>Admin</label>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport { setDependencies, submitHandler, getUsers, societyUserModalBodyTemplate };\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { setDependencies, submitHandler, getExpenseModalBodyTemplate } from './ExpenseModal';\r\n\r\nexport default function AddExpenseModal({ collectionId, setModalContent, setAlert, getExpenses }) {\r\n  const [details, setDetails] = useState({\r\n    collectionId: collectionId,\r\n    amount: \"\",\r\n    senderId: \"\",\r\n    receiverId: \"\",\r\n    date: \"\",\r\n    methodId: \"\",\r\n    transactionComment: \"\"\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n  const [senderAccounts, setSenderAccounts] = useState([]);\r\n  const [receiverAccounts, setReceiverAccounts] = useState([]);\r\n  const [paymentMethods, setPaymentMethods] = useState([]);\r\n\r\n  setDependencies([setModalContent, setAlert, getExpenses, setDetails, setErrors,\r\n    setSenderAccounts, setReceiverAccounts, setPaymentMethods, details,\r\n    errors, senderAccounts, receiverAccounts, paymentMethods]);\r\n  \r\n  useEffect(() => {\r\n    axios.get(`getDetailsForAddExpenseTransaction/${collectionId}`).then(\r\n      res => {\r\n        setSenderAccounts(res.data.newOptions.senderAccounts);\r\n        setReceiverAccounts(res.data.newOptions.receiverAccounts);\r\n        setPaymentMethods(res.data.newOptions.paymentMethods);\r\n      },\r\n      err => console.log(err)\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"modal-content\">\r\n      <div className=\"modal-header\">\r\n        <h5 className=\"modal-title\">Add Expense</h5>\r\n        <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n        </button>\r\n      </div>\r\n      <form onSubmit={e=> submitHandler(e, \"addExpense\", \"POST\")}>\r\n        {getExpenseModalBodyTemplate()}\r\n        <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n          <button type=\"submit\" className=\"btn btn-primary\">Add</button>\r\n          <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { setDependencies, submitHandler, setDetailsForExpenseTransaction, getExpenseModalBodyTemplate } from './ExpenseModal';\r\n\r\nexport default function EditExpenseModal({ expenseId, setModalContent, setAlert, getExpenses }) {\r\n  const [details, setDetails] = useState({\r\n    id: expenseId,\r\n    amount: \"\",\r\n    senderId: \"\",\r\n    receiverId: \"\",\r\n    date: \"\",\r\n    methodId: \"\",\r\n    transactionComment: \"\"\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n  const [senderAccounts, setSenderAccounts] = useState([]);\r\n  const [receiverAccounts, setReceiverAccounts] = useState([]);\r\n  const [paymentMethods, setPaymentMethods] = useState([]);\r\n\r\n  setDependencies([setModalContent, setAlert, getExpenses, setDetails, setErrors,\r\n    setSenderAccounts, setReceiverAccounts, setPaymentMethods, details,\r\n    errors, senderAccounts, receiverAccounts, paymentMethods]);\r\n\r\n  useEffect(() => {\r\n    setDetailsForExpenseTransaction(expenseId);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"modal-content\">\r\n      <div className=\"modal-header\">\r\n        <h5 className=\"modal-title\">Edit Expense</h5>\r\n        <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n        </button>\r\n      </div>\r\n      <form onSubmit={e=> submitHandler(e, \"updateExpense\", \"PUT\")}>\r\n        {getExpenseModalBodyTemplate()}\r\n        <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n          <button type=\"submit\" className=\"btn btn-primary\">Update</button>\r\n          <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { setDependencies, setDetailsForExpenseTransaction} from './ExpenseModal';\r\n\r\nimport { getLongDate } from '../../../../others/helper';\r\n\r\nexport default function ViewExpenseModal({ expenseId, setModalContent }) {\r\n  const [details, setDetails] = useState({\r\n    id: expenseId,\r\n    amount: \"\",\r\n    senderId: \"\",\r\n    receiverId: \"\",\r\n    date: \"\",\r\n    methodId: \"\",\r\n    transactionComment: \"\"\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n  const [senderAccounts, setSenderAccounts] = useState([]);\r\n  const [receiverAccounts, setReceiverAccounts] = useState([]);\r\n  const [paymentMethods, setPaymentMethods] = useState([]);\r\n\r\n  setDependencies([setModalContent, null, null, setDetails, setErrors,\r\n    setSenderAccounts, setReceiverAccounts, setPaymentMethods, details,\r\n    errors, senderAccounts, receiverAccounts, paymentMethods]);\r\n\r\n  useEffect(() => {\r\n    setDetailsForExpenseTransaction(expenseId);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"modal-content\">\r\n      <div className=\"modal-header\">\r\n        <h5 className=\"modal-title\">View Expense</h5>\r\n        <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n        </button>\r\n      </div>\r\n      <form>\r\n      <div className=\"modal-body\">\r\n    <div className=\"form-outline\">\r\n      <input type=\"number\" className=\"form-control form-control-lg hidden-arrows\" name=\"amount\"\r\n        value={details.amount} disabled />\r\n      <label className=\"form-label floating-label\">Amount</label>\r\n    </div>\r\n    <div className=\"validation-error\">{errors.amount}</div>\r\n    <div className=\"form-outline\">\r\n      <select className=\"form-select form-select-lg\" name=\"receiverId\" data-value={details.receiverId}\r\n        value={details.receiverId} disabled >\r\n        <option style={{ display: \"none\" }}></option>\r\n        {receiverAccounts.map((item, i) => <option key={i} value={item.id}>{item.name}</option>)}\r\n      </select>\r\n      <label className=\"form-label floating-label\">Expense Head</label>\r\n    </div>\r\n    <div className=\"validation-error\">{errors.receiverId}</div>\r\n    <div className=\"form-outline\">\r\n      <input type=\"text\" className=\"form-control form-control-lg\" name=\"senderEmail\"\r\n        value={details.senderEmail} list=\"sender-account-suggestions\" disabled/>\r\n      <datalist id=\"sender-account-suggestions\">\r\n        {senderAccounts.length > 0 && senderAccounts.map((senderAccount, i) =>\r\n          <option key={i} value={senderAccount.email}>{senderAccount.name}</option>)}\r\n      </datalist>\r\n      <label className=\"form-label floating-label\">Sender</label>\r\n    </div>\r\n    <div className=\"validation-error\">{errors.senderEmail}</div>\r\n    <div className=\"form-outline\">\r\n      <input type=\"date\" className=\"form-control form-control-lg datepicker\" name=\"date\"\r\n        value={details.date} max={(new Date()).toISOString().split(\"T\")[0]} disabled />\r\n      <label className=\"date-label\">{getLongDate(details.date)}</label>\r\n      <label className=\"form-label floating-label\">Payment Date</label>\r\n    </div>\r\n    <div className=\"validation-error\">{errors.date}</div>\r\n    <div className=\"form-outline\">\r\n      <select className=\"form-select form-select-lg\" name=\"methodId\" data-value={details.methodId}\r\n        value={details.methodId} disabled >\r\n        <option style={{ display: \"none\" }}></option>\r\n        {paymentMethods.map((item, i) => <option key={i} value={item.id}>{item.method}</option>)}\r\n      </select>\r\n      <label className=\"form-label floating-label\">Payment Method</label>\r\n    </div>\r\n    <div className=\"validation-error\">{errors.methodId}</div>\r\n    <div className=\"form-outline\">\r\n      <textarea type=\"text\" className=\"form-control form-control-lg\" name=\"transactionComment\" data-value={details.transactionComment}\r\n        value={details.transactionComment} disabled/>\r\n      <label className=\"form-label floating-label\">Comment</label>\r\n    </div>\r\n  </div>\r\n        <div className=\"form-outline modal-footer d-flex justify-content-end\">\r\n          <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport { setDependencies, submitHandler, getUsers, societyUserModalBodyTemplate } from './SocietyUserModal';\r\n\r\nexport default function AddSocietyUserModal({societyId, existingUsers, setModalContent, setAlert, getSocietyUsers}) {\r\n    const [details, setDetails] = useState({societyId: societyId, email: \"\", name: \"\", isAdmin: false});\r\n    const [users, setUsers] = useState([]);\r\n\r\n    setDependencies([setDetails, setUsers, setModalContent, setAlert, getSocietyUsers,\r\n        details, users, existingUsers]);\r\n    \r\n    useEffect(()=>{\r\n        getUsers();\r\n    }, []);\r\n    \r\n    return (\r\n        <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Add User</h5>\r\n                <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n                </button>\r\n            </div>\r\n            <form onSubmit={e => submitHandler(e, 'addSocietyUser', 'POST')}>\r\n                {societyUserModalBodyTemplate()}\r\n                <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Add</button>\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport { setDependencies, submitHandler, getUsers, societyUserModalBodyTemplate } from './SocietyUserModal';\r\n\r\nexport default function EditSocietyUserModal({initialDetails, existingUsers, setModalContent, setAlert, getSocietyUsers}) {\r\n    const [details, setDetails] = useState(initialDetails);\r\n    const [users, setUsers] = useState([]);\r\n\r\n    setDependencies([setDetails, setUsers, setModalContent, setAlert, getSocietyUsers,\r\n        details, users, existingUsers]);\r\n    \r\n    useEffect(()=>{\r\n        getUsers();\r\n    }, []);\r\n    \r\n    return (\r\n        <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Change User</h5>\r\n                <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n                </button>\r\n            </div>\r\n            <form onSubmit={e => submitHandler(e, 'updateSocietyUser', 'PUT')}>\r\n                {societyUserModalBodyTemplate()}\r\n                <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Update</button>\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { setDependencies, getUsers } from './SocietyUserModal';\r\n\r\nexport default function ViewSocietyUserModal({ initialDetails, setModalContent }) {\r\n    const [details, setDetails] = useState(initialDetails);\r\n    const [users, setUsers] = useState([]);\r\n\r\n    setDependencies([setDetails, setUsers, null, null, null,\r\n        details, users, null]);\r\n\r\n    useEffect(() => {\r\n        getUsers();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">View User</h5>\r\n                <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n                </button>\r\n            </div>\r\n                <div className=\"modal-body\">\r\n                    <div className=\"form-outline mb-4\">\r\n                        <input type=\"text\" className=\"form-control form-control-lg\" name=\"email\"\r\n                            value={details.email} disabled/>\r\n                        <label className=\"form-label floating-label\">Email ID</label>\r\n                    </div>\r\n                    <div className=\"form-outline mb-4\">\r\n                        <input type=\"text\" className=\"form-control form-control-lg\" name=\"name\"\r\n                            value={details.name} disabled />\r\n                        <label className=\"form-label floating-label\">Name</label>\r\n                    </div>\r\n                    <div className=\"form-check d-flex justify-content-start mb-4\">\r\n                        <input\r\n                            className=\"form-check-input\"\r\n                            name=\"isAdmin\"\r\n                            type=\"checkbox\"\r\n                            checked={details.isAdmin}\r\n                            id=\"isAdmin\"\r\n                            disabled\r\n                        />\r\n                        <label className=\"form-check-label\" htmlFor=\"isAdmin\"\r\n                            style={{ padding: '0rem 1rem' }}>Admin</label>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-outline modal-footer d-flex justify-content-end\">\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n                </div>\r\n        </div>\r\n    );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\n\r\nexport default function TransferDueAmount({ senderFlat, flats, setModalContent, setAlert, getSocietyFlats }) {\r\n    const [details, setDetails] = useState({\r\n        senderFlatId: senderFlat.id,\r\n        receiverFlatCode: \"\",\r\n        amount: senderFlat.dueAmount,\r\n        comment: \"\"\r\n    });\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        for (const item in details) {\r\n            if (details[item] === \"\" && item!==\"comment\") {\r\n                console.log(details);\r\n                setAlert({ class: \"alert-danger\", message: \"Please fill all the fields\" });\r\n                return;\r\n            }\r\n        }\r\n        for (const item in errors) {\r\n            if (errors[item] !== \"\") {\r\n                setAlert({ class: \"alert-danger\", message: \"Please fill correct details\" });\r\n                return;\r\n            }\r\n        }\r\n        const data = { ...details };\r\n        data['receiverFlatId'] = flats.filter(flat => flat.code === details.receiverFlatCode)[0].id;\r\n        delete data.receiverFlatCode;\r\n        axios.post(\"transferDueAmount\", data).then(\r\n            res => {\r\n                setModalContent(null);\r\n                getSocietyFlats();\r\n                setAlert({ class: \"alert-success\", message: res.data.message });\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target;\r\n        setDetails({ ...details, [name]: value });\r\n    };\r\n\r\n    const validateFields = e => {\r\n        const { name, value } = e.target;\r\n        if (name !== \"comment\" && value === \"\") {\r\n            setErrors({ ...errors, [name]: \"Please enter a value\" });\r\n            return;\r\n        }\r\n        setErrors({ ...errors, [name]: \"\" });\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Transfer due amount</h5>\r\n                <button type=\"button\" className=\"btn-close\" onClick={() => setModalContent(null)}>\r\n                </button>\r\n            </div>\r\n            <form onSubmit={submitHandler}>\r\n                <div className=\"modal-body\">\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"number\" className=\"form-control form-control-lg hidden-arrows\" name=\"amount\"\r\n                            onChange={handleChange} value={details.amount} onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\">Amount</label>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.amount}</div>\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"text\" className=\"form-control form-control-lg\" list=\"flat-suggestions\" name=\"receiverFlatCode\"\r\n                            onChange={handleChange} value={details.receiverFlatCode} onBlur={validateFields}/>\r\n                        <label className=\"form-label floating-label\">Flat Code</label>\r\n                        <datalist id=\"flat-suggestions\">\r\n                            {flats.length > 0 && flats.map((flat, i) =>\r\n                                flat.owner && flat.id!==senderFlat.id && \r\n                                <option key={flat.id} value={flat.code}>{flat.owner}</option>)}\r\n                        </datalist>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.recieverFlatCode}</div>\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"text\" className=\"form-control form-control-lg\" name=\"comment\"\r\n                            onChange={handleChange} value={details.comment} onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\">Comment</label>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-outline modal-footer d-flex justify-content-between\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Send</button>\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={() => setModalContent(null)}>Cancel</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n    );\r\n}\r\n","import React, { useRef, useState, useEffect } from 'react';\r\nimport { Navigate, useParams } from 'react-router-dom';\r\nimport { Card, AddCard, AddFlatModal, EditFlatModal, DeleteModal, ViewFlatModal, TransferDueAmount } from '../../components/components';\r\nimport axios from 'axios';\r\n\r\nimport './FlatList.css';\r\n\r\nexport default function FlatList({ dependencies: [setModalContent, setSpinner, setAlert] }) {\r\n    const { societyId } = useParams();\r\n    const [flats, setFlats] = useState([]);\r\n    const currency = useRef(\"\");\r\n    const [permissionError, setPermissionError] = useState(false);\r\n    const cardTxtClassList = \"d-flex align-content-center justify-content-between w-100 py-1\";\r\n\r\n    const getSocietyFlats = () => {\r\n        setSpinner(true);\r\n        axios.get(`getSocietyFlats/${societyId}`).then(\r\n            res => {\r\n                currency.current = res.data.currency;\r\n                setFlats(res.data.flats);\r\n                setSpinner(false);\r\n            },\r\n            err => {\r\n                if (err.response.staus === 403) {\r\n                    setPermissionError(true);\r\n                }\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n                setSpinner(false);\r\n            }\r\n        );\r\n    };\r\n\r\n    useEffect(() => {\r\n        getSocietyFlats();\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            {(() => permissionError ? <Navigate to={\"/\"}></Navigate> : <>\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <span className='badge rounded-pill bg-warning text-dark'>Flat Count: {flats.length}</span>\r\n                </div>\r\n                <div className=\"row m-0 justify-content-center\">\r\n                    {flats.length > 0 && flats.map(flat => {\r\n                        return (\r\n                            <Card key={flat.id} id={flat.id}\r\n                                header={<><div\r\n                                    role=\"button\"\r\n                                    onClick={() => setModalContent(<ViewFlatModal\r\n                                        initialDetails={{ id: flat.id, code: flat.code, area: flat.area }}\r\n                                        setModalContent={setModalContent} />)}>\r\n                                    {flat.code}\r\n                                </div>\r\n                                    <div className=\"btn-sm btn-secondary position-absolute top-0 end-0 me-3 mt-2\">{flat.area} sqft</div>\r\n                                </>}\r\n                                body={flat.owner ? <>\r\n                                    <div className={cardTxtClassList}>\r\n                                        <span className=\"fw-bold\">Owner:</span><span className=\"btn-sm btn-primary\">{flat.owner}</span>\r\n                                    </div>\r\n                                    <div className={cardTxtClassList}>\r\n                                        <span className=\"fw-bold\">Due Amount:</span>\r\n                                        <span className={`shadow btn-sm ${flat.dueAmount <= 0 ? \"btn-success\" : \"btn-danger\"}`}\r\n                                            role=\"button\" onClick={() => setModalContent(<TransferDueAmount\r\n                                                senderFlat={flat}\r\n                                                flats={flats}\r\n                                                setModalContent={setModalContent}\r\n                                                setAlert={setAlert}\r\n                                                getSocietyFlats={getSocietyFlats} />)}>\r\n                                            {currency.current} {flat.dueAmount}</span>\r\n                                    </div>\r\n                                </> : <div className=\"text-center\">No members yet</div>}\r\n                                footer={<>\r\n                                    <i className=\"btn col-auto glyphicon fa fa-edit text-primary\"\r\n                                        onClick={() => setModalContent(<EditFlatModal\r\n                                            initialDetails={{ id: flat.id, code: flat.code, area: flat.area }}\r\n                                            societyId={societyId}\r\n                                            setModalContent={setModalContent}\r\n                                            setAlert={setAlert}\r\n                                            getSocietyFlats={getSocietyFlats} />)}></i>\r\n                                    <i className=\"btn col-auto glyphicon fas fa-trash-alt text-danger\"\r\n                                        onClick={() => setModalContent(<DeleteModal\r\n                                            deleteUrl={`deleteFlat/${flat.id}`}\r\n                                            entityName={flat.code}\r\n                                            setModalContent={setModalContent}\r\n                                            setAlert={setAlert}\r\n                                            getEntities={getSocietyFlats} />)}></i>\r\n                                </>\r\n                                }></Card>\r\n                        );\r\n                    })}\r\n                    <AddCard setModalContent={setModalContent} setAlert={setAlert}\r\n                        modalContent={<AddFlatModal\r\n                            societyId={societyId}\r\n                            setModalContent={setModalContent}\r\n                            setAlert={setAlert}\r\n                            getSocietyFlats={getSocietyFlats} />} />\r\n                </div>\r\n            </>\r\n            )()}\r\n        </div>\r\n    );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, AddCard, AddSocietyModal, EditSocietyModal, DeleteModal } from '../../components/components';\r\nimport axios from 'axios';\r\n\r\nimport './SocietyList.css';\r\n\r\nexport default function SocietyList({ dependencies: [setModalContent, setSpinner, setAlert] }) {\r\n    const [societies, setSocieties] = useState([]);\r\n\r\n    const getSocieties = () => {\r\n        setSpinner(true);\r\n        axios.get('getSocieties').then(\r\n            res => {\r\n                setSocieties(res.data);\r\n                setSpinner(false);\r\n            },\r\n            err => {\r\n                console.log(err);\r\n                setSpinner(false);\r\n            }\r\n        );\r\n    };\r\n\r\n    const getNamedId = (name, id) => {\r\n        return `${name.toLowerCase().replace(\" \", \"-\")}-${id}`;\r\n    };\r\n\r\n    useEffect(() => {\r\n        getSocieties();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"row m-0 justify-content-center\" onClick={e => {\r\n            if (!e.target.classList.contains(\"dropdown\")) {\r\n                [...document.getElementsByClassName(\"dropdown-menu\")].forEach(el => el.style.display = \"none\");\r\n            }\r\n        }}>\r\n            {societies && societies.map(society => {\r\n                return (\r\n                    <Card key={society.id} id={society.id}\r\n                        header={<div><Link\r\n                            to={`/societies/${getNamedId(society.name, society.id)}`}>\r\n                            {society.name}\r\n                        </Link>\r\n                        </div>}\r\n                        body={<div className=\"text-ellipsis--2\">{society.address} - {society.pin_code}</div>}\r\n                        footer={<>\r\n                            <i className=\"btn fa fa-edit text-primary\"\r\n                                onClick={() => setModalContent(<EditSocietyModal\r\n                                    initialDetails={{\r\n                                        id: society.id, name: society.name,\r\n                                        address: society.address, pin_code: society.pin_code,\r\n                                        countryId: society.countryId\r\n                                    }}\r\n                                    setModalContent={setModalContent}\r\n                                    setAlert={setAlert}\r\n                                    getSocieties={getSocieties} />)}></i>\r\n\r\n                            <div role=\"button\" className=\"btn btn-secondary dropdown py-0\" onClick={e => {\r\n                                const dropdownMenu = e.currentTarget.getElementsByClassName(\"dropdown-menu\")[0];\r\n                                dropdownMenu.style.display = dropdownMenu.style.display === \"none\" ? \"block\" : \"none\";\r\n                            }}>\r\n                                <div className=\"dropdown\" role=\"button\">\r\n                                    <i className=\"fas fa-ellipsis-h dropdown\"></i>\r\n                                </div>\r\n                                <div className=\"dropdown-menu\" style={{ marginLeft: \"-4rem\" }}>\r\n                                    <Link className=\"dropdown-item\"\r\n                                        to={`/societies/${getNamedId(society.name, society.id)}/users`}>\r\n                                        Users\r\n                                    </Link>\r\n                                    <Link className=\"dropdown-item\"\r\n                                        to={`/societies/${getNamedId(society.name, society.id)}/collections`}>\r\n                                        Collections\r\n                                    </Link>\r\n                                    <Link className=\"dropdown-item\"\r\n                                        to={`/societies/${getNamedId(society.name, society.id)}/transactions`}>\r\n                                        Transactions\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                            <i className=\"btn fas fa-trash-alt text-danger\"\r\n                                onClick={() => setModalContent(<DeleteModal\r\n                                    deleteUrl={`deleteSociety/${society.id}`}\r\n                                    entityName={society.name}\r\n                                    setModalContent={setModalContent}\r\n                                    setAlert={setAlert}\r\n                                    getEntities={getSocieties} />)}></i>\r\n                        </>\r\n                        }></Card>\r\n                );\r\n            })}\r\n            <AddCard setModalContent={setModalContent} setAlert={setAlert}\r\n                modalContent={<AddSocietyModal\r\n                    setModalContent={setModalContent}\r\n                    setAlert={setAlert}\r\n                    getSocieties={getSocieties} />} />\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nimport SocietyList from './SocietyList';\r\n\r\nexport default React.memo(function Home({ dependencies: [user, setModalContent, setSpinner, setAlert] }) {\r\n\r\n    return (\r\n        <>{\r\n            (() => {\r\n                if (user.user_full_name !== \"\") {\r\n                    return (\r\n                        <div>\r\n                            <SocietyList dependencies={[setModalContent, setSpinner, setAlert]}/>\r\n                        </div>\r\n                    );\r\n                }\r\n                else {\r\n                    return <Navigate to={'/login'}></Navigate>;\r\n                }\r\n            })()\r\n        }\r\n        </>\r\n    );\r\n});","import React, { useState, useEffect } from 'react';\r\nimport { Navigate, Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\nimport './Forms.css';\r\n\r\nexport default function LoginForm({ dependencies: [getUser, user, setSpinner, setAlert] }) {\r\n    const [details, setDetails] = useState({ username: \"\", password: \"\", remember_me: true });\r\n\r\n    useEffect(() => {\r\n        setSpinner(false);\r\n        localStorage.clear();\r\n    }, []);\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        for (const item in details) {\r\n            if (details[item] === \"\") {\r\n                setAlert({ class: \"alert-danger\", message: \"Please enter the details\" });\r\n                return;\r\n            }\r\n        }\r\n        const config = {\r\n            headers: {\r\n                'Authorization': 'Basic ' + btoa(details.username + \":\" + details.password),\r\n                'Remember-Me': details.remember_me\r\n            }\r\n        };\r\n        axios.post('loginUser', null, config).then(\r\n            res => {\r\n                localStorage.setItem('token', res.data.token);\r\n                getUser();\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const handleChange = e => {\r\n        const { name, value, checked } = e.target;\r\n        if (name === \"remember_me\") {\r\n            setDetails({ ...details, [name]: checked });\r\n        }\r\n        else {\r\n            setDetails({ ...details, [name]: value });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {\r\n                user.user_full_name !== \"\" ? (<Navigate to={'/'} />) :\r\n                    (\r\n\r\n                        <section className=\"vh-100 w-100\" style={{ backgroundColor: '#508bfc', marginTop: \"-1rem\" }}>\r\n                            <div className=\"container py-5\">\r\n                                <div className=\"row d-flex justify-content-center align-items-center\">\r\n                                    <div className=\"col-12 col-md-8 col-lg-6 col-xl-5\">\r\n                                        <div className=\"card shadow-2-strong\" style={{ borderRadius: '1rem' }}>\r\n                                            <div className=\"card-body p-5 text-center\">\r\n                                                <h3 className=\"p-2\">Sign in</h3>\r\n\r\n                                                <form id=\"loginform\" className=\"form-horizontal\"\r\n                                                    onSubmit={submitHandler}>\r\n                                                    <div className=\"form-outline mb-4\">\r\n                                                        <input type=\"email\" id=\"typeEmailX-2\" name=\"username\" className=\"form-control form-control-lg\"\r\n                                                            onChange={handleChange} value={details.username} />\r\n                                                        <label className=\"form-label floating-label\" htmlFor=\"typeEmailX-2\">Email</label>\r\n                                                    </div>\r\n\r\n                                                    <div className=\"form-outline mb-4\">\r\n                                                        <input type=\"password\" id=\"typePasswordX-2\" name=\"password\" className=\"form-control form-control-lg\"\r\n                                                            onChange={handleChange} value={details.password} />\r\n                                                        <label className=\"form-label floating-label\" htmlFor=\"typePasswordX-2\">Password</label>\r\n                                                    </div>\r\n                                                    <div className=\"form-check d-flex justify-content-start mb-4\">\r\n                                                        <input\r\n                                                            className=\"form-check-input\"\r\n                                                            name=\"remember_me\"\r\n                                                            type=\"checkbox\"\r\n                                                            onChange={handleChange}\r\n                                                            checked={details.remember_me}\r\n                                                            id=\"remember-check\"\r\n                                                        />\r\n                                                        <label className=\"form-check-label\" htmlFor=\"remember-check\"\r\n                                                            style={{ padding: '0rem 1rem' }}>Stay signed in for 7 days</label>\r\n                                                    </div>\r\n\r\n                                                    <div>\r\n                                                        <button className=\"btn btn-primary btn-block w-100\" type=\"submit\">Login</button>\r\n                                                    </div>\r\n\r\n                                                </form>\r\n                                                <hr className=\"my-4\" />\r\n                                                <div className=\"d-flex justify-content-between\">\r\n                                                    <Link to={'/signup'} className=\"link-primary\">Sign up here</Link>\r\n                                                    <Link to={'/forgot-password'} className=\"link-primary\">Forgot Password?</Link>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </section>\r\n                    )\r\n            }\r\n        </>\r\n    );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { stringContainsNumber } from '../../others/helper';\r\n\r\nimport './Forms.css';\r\n\r\nexport default function SignUpForm({ dependencies: [setSpinner, setAlert] }) {\r\n    const [details, setDetails] = useState({ name: \"\", email: \"\", phone: \"\", password: \"\" });\r\n    const [confirm_password, setConfirmPassword] = useState('');\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const defaultErr = \"Please enter a value\";\r\n    const outlineRed = \" outline-red\";\r\n    const siteKey = process.env.REACT_APP_SITE_KEY;\r\n\r\n    useEffect(() => {\r\n        setSpinner(false);\r\n        const script = document.createElement('script');\r\n\r\n        script.src = \"https://www.google.com/recaptcha/api.js\";\r\n        script.async = true;\r\n\r\n        document.body.appendChild(script);\r\n\r\n        return () => {\r\n            document.body.removeChild(script);\r\n        };\r\n    }, []);\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        for (const item in details) {\r\n            if (item !== \"phone\" && !details[item]) {\r\n                errors[item] = defaultErr;\r\n            }\r\n        }\r\n        if (!confirm_password) {\r\n            errors.confirm_password = defaultErr;\r\n        }\r\n        for (const item in errors) {\r\n            if (errors[item]) {\r\n                setAlert({ class: \"alert-danger\", message: \"Please fill required details\" });\r\n                return;\r\n            }\r\n        }\r\n        const captchaField = document.getElementsByName(\"g-recaptcha-response\")[0];\r\n        if (captchaField && captchaField.value) {\r\n            details['captchaToken'] = captchaField.value;\r\n        }\r\n        else {\r\n            setAlert({ class: \"alert-danger\", message: \"Please verify captcha\" });\r\n            return false;\r\n        }\r\n        axios.post('signupUser', { ...details }).then(\r\n            res => {\r\n                setAlert({ class: \"alert-success\", message: res.data.message });\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target;\r\n        setDetails({ ...details, [name]: value });\r\n    };\r\n\r\n    const validateFields = e => {\r\n        const { name, value } = e.target;\r\n        if (name !== \"phone\" && value === \"\") {\r\n            setErrors({ ...errors, [name]: defaultErr });\r\n            return;\r\n        }\r\n\r\n        if (name === \"name\") {\r\n            let specialChars = /[!@#$%^&*()_+=[\\]{};':\"\\\\|<>/?]+/;\r\n            if (stringContainsNumber(value)) {\r\n                setErrors({ ...errors, [name]: \"Name cannot contain numbers\" });\r\n                return;\r\n            }\r\n            else if (specialChars.test(value)) {\r\n                setErrors({ ...errors, [name]: \"Name cannot contain special characters\" });\r\n                return;\r\n            }\r\n        }\r\n        else if (name === \"email\") {\r\n            let validEmail = /^\\S+@\\S+\\.\\S+$/;\r\n            if (!validEmail.test(value)) {\r\n                setErrors({ ...errors, [name]: \"Please enter a valid email id\" });\r\n                return;\r\n            }\r\n        }\r\n        else if (name === \"phone\") {\r\n            if (value !== \"\" && value.length < 10) {\r\n                setErrors({ ...errors, [name]: \"Please enter a valid phone number\" });\r\n                return;\r\n            }\r\n        }\r\n        else if (name === \"password\") {\r\n            if (value.length < 8) {\r\n                setErrors({ ...errors, [name]: \"Please enter minimum 8 characters\" });\r\n                return;\r\n            }\r\n        }\r\n        else if (name === \"confirm_password\") {\r\n            if (details.password !== value) {\r\n                setErrors({ ...errors, [name]: \"Password do not match\" });\r\n                return;\r\n            }\r\n        }\r\n        setErrors({ ...errors, [name]: \"\" });\r\n    };\r\n\r\n    return (\r\n        <section className=\"vh-100 w-100\" style={{ backgroundColor: '#508bfc', marginTop: \"-1rem\" }}>\r\n            <div className=\"container py-5\">\r\n                <div className=\"row d-flex justify-content-center align-items-center h-100\">\r\n                    <div className=\"col-12 col-md-8 col-lg-6 col-xl-5\">\r\n                        <div className=\"card shadow-2-strong\" style={{ borderRadius: '1rem' }}>\r\n                            <div className=\"card-body p-5 text-center\">\r\n                                <h3 className=\"p-2\">Sign up</h3>\r\n                                <form id=\"signupform\" className=\"form-horizontal\"\r\n                                    onSubmit={submitHandler}>\r\n\r\n                                    <div className=\"form-outline\">\r\n                                        <input type=\"text\" id=\"name\" name=\"name\" className={\"form-control form-control-lg\" + (errors.name ? outlineRed : \"\")}\r\n                                            onChange={handleChange} value={details.name} onBlur={validateFields} />\r\n                                        <label className=\"form-label floating-label\" htmlFor=\"name\">Name</label>\r\n                                    </div>\r\n                                    <div className=\"validation-error\">{errors.name}</div>\r\n\r\n                                    <div className=\"form-outline\">\r\n                                        <input type=\"email\" id=\"email\" name=\"email\" className={\"form-control form-control-lg\" + (errors.email ? outlineRed : \"\")}\r\n                                            onChange={handleChange} value={details.email} onBlur={validateFields} />\r\n                                        <label className=\"form-label floating-label\" htmlFor=\"email\">Email</label>\r\n                                    </div>\r\n                                    <div className=\"validation-error\">{errors.email}</div>\r\n\r\n                                    <div className=\"form-outline\">\r\n                                        <input type=\"number\" id=\"phone\" name=\"phone\" className={\"form-control form-control-lg hidden-arrows\" + (errors.phone ? outlineRed : \"\")}\r\n                                            onChange={handleChange} value={details.phone} onBlur={validateFields} />\r\n                                        <label className=\"form-label floating-label\" htmlFor=\"phone\">Phone</label>\r\n                                    </div>\r\n                                    <div className=\"validation-error\">{errors.phone}</div>\r\n\r\n                                    <div className=\"form-outline\">\r\n                                        <input type=\"password\" id=\"password\" name=\"password\" className={\"form-control form-control-lg\" + (errors.password ? outlineRed : \"\")}\r\n                                            onChange={handleChange} value={details.password} onBlur={validateFields} />\r\n                                        <label className=\"form-label floating-label\" htmlFor=\"password\">Password</label>\r\n                                    </div>\r\n                                    <div className=\"validation-error\">{errors.password}</div>\r\n\r\n                                    <div className=\"form-outline\">\r\n                                        <input type=\"password\" id=\"confirm-password\" name=\"confirm_password\" className={\"form-control form-control-lg\" + (errors.confirm_password ? outlineRed : \"\")}\r\n                                            onChange={e => setConfirmPassword(e.currentTarget.value)} value={confirm_password} onBlur={validateFields} />\r\n                                        <label className=\"form-label floating-label\" htmlFor=\"confirm-password\">Confirm Password</label>\r\n                                    </div>\r\n                                    <div className=\"validation-error\">{errors.confirm_password}</div>\r\n\r\n                                    <div className=\"d-flex justify-content-center mb-4\">\r\n                                        <div className=\"g-recaptcha\" data-sitekey={siteKey}></div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <button className=\"btn btn-primary btn-block w-100\" type=\"submit\">Register</button>\r\n                                    </div>\r\n\r\n                                </form>\r\n\r\n                                <hr className=\"my-4\" />\r\n                                <div className=\"d-flex justify-content-between\">\r\n                                    <span>Already have an account?</span>\r\n                                    <Link to={'/login'} className=\"link-primary\">Sign in here</Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n","import React, { useRef, useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Card, AddCard, DeleteModal, AddCollectionModal, EditCollectionModal } from '../../components/components';\r\nimport axios from 'axios';\r\n\r\nimport { getLongDate } from '../../others/helper.js';\r\n\r\nexport default function Collections({ dependencies: [setModalContent, setSpinner, setAlert] }) {\r\n    const { societyId } = useParams();\r\n    const [collections, setCollections] = useState([]);\r\n    const currency = useRef(\"\");\r\n    const cardTxtClassList = \"d-flex align-content-center justify-content-between w-100 py-1\";\r\n\r\n    const getSocietyCollections = () => {\r\n        setSpinner(true);\r\n        axios.get(`getCollections/${societyId}`).then(\r\n            res => {\r\n                currency.current = res.data.currency;\r\n                setCollections(res.data.collections);\r\n                setSpinner(false);\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n                setSpinner(false);\r\n            }\r\n        );\r\n    };\r\n\r\n    useEffect(() => {\r\n        getSocietyCollections();\r\n    }, []);\r\n\r\n    return (\r\n        <div><div className=\"d-flex justify-content-end\">\r\n            <span className='badge rounded-pill bg-warning text-dark'>Collection Count: {collections.length}</span>\r\n        </div>\r\n            <div className=\"row m-0 justify-content-center\">\r\n                {collections && collections.map(collection => {\r\n                    return (\r\n                        <Card key={collection.id} id={collection.id}\r\n                            header={<Link to={`/collections/${collection.name.toLowerCase().replaceAll(\" \", \"-\")}-${collection.id}`}>\r\n                                {collection.name}\r\n                            </Link>}\r\n                            body={\r\n                                <>\r\n                                    <div className={cardTxtClassList}>\r\n                                        <span className=\"fw-bold\">Start Date:</span>\r\n                                        <span className=\"btn-sm btn-primary\">{getLongDate(collection.collectionStartDate)}</span>\r\n                                    </div>\r\n                                    <div className={cardTxtClassList}>\r\n                                        <span className=\"fw-bold\">Rate:</span>\r\n                                        <span className=\"btn-sm btn-danger\">\r\n                                            {currency.current} {collection.rate} {collection.fixed ? \"/ flat\" : \"/ sqft(flat)\"}</span>\r\n                                    </div>\r\n                                </>}\r\n                            footer={<>\r\n                                <i className=\"btn col-auto glyphicon fa fa-edit text-primary\"\r\n                                    onClick={() => setModalContent(<EditCollectionModal\r\n                                        initialDetails={{\r\n                                            id: collection.id, name: collection.name, typeId: collection.typeId, rate: collection.rate,\r\n                                            fixed: collection.fixed, collectionStartDate: collection.collectionStartDate\r\n                                        }}\r\n                                        setModalContent={setModalContent}\r\n                                        setAlert={setAlert}\r\n                                        getSocietyCollections={getSocietyCollections} />)}></i>\r\n                                <i className=\"btn col-auto glyphicon fas fa-trash-alt text-danger\"\r\n                                    onClick={() => setModalContent(<DeleteModal\r\n                                        deleteUrl={`deleteCollection/${collection.id}`}\r\n                                        entityName={collection.name}\r\n                                        setModalContent={setModalContent}\r\n                                        setAlert={setAlert}\r\n                                        getEntities={getSocietyCollections} />)}></i>\r\n                            </>\r\n                            }></Card>\r\n                    );\r\n                })}\r\n                <AddCard setModalContent={setModalContent} setAlert={setAlert}\r\n                    modalContent={<AddCollectionModal\r\n                        societyId={societyId}\r\n                        setModalContent={setModalContent}\r\n                        setAlert={setAlert}\r\n                        getSocietyCollections={getSocietyCollections} />} />\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Card } from '../../components/components';\r\nimport axios from 'axios';\r\n\r\nexport default function CollectionSummary({ dependencies: [setSpinner, setAlert] }) {\r\n    const [summary, setSummary] = useState({\r\n        currency: \"\",\r\n        collectionName: \"\",\r\n        incomeSummary: {\r\n            totalExpected: \"\",\r\n            totalReceived: \"\",\r\n            remaining: \"\"\r\n        },\r\n        expenseSummary: {\r\n            totalExpenditure: \"\",\r\n            previousBalance: \"\",\r\n            balance: \"\"\r\n        }\r\n    });\r\n    const { collectionId } = useParams();\r\n    const cardTxtClassList = \"d-flex align-content-center justify-content-between w-100 py-1\";\r\n\r\n    const getCollectionSummary = () => {\r\n        setSpinner(true);\r\n        axios.get(`getCollectionSummary/${collectionId}`).then(\r\n            res => {\r\n                setSummary(res.data);\r\n                setSpinner(false);\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n                setSpinner(false);\r\n            }\r\n        );\r\n    };\r\n\r\n    useEffect(() => {\r\n        getCollectionSummary();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"row m-0 justify-content-center\">\r\n            <Card\r\n                header={<div><Link\r\n                    to={\"incomes\"}>\r\n                    Incomes\r\n                </Link>\r\n                </div>}\r\n                body={<>\r\n                    <div className={cardTxtClassList}>\r\n                        <span className=\"fw-bold\">Total Expected:</span>\r\n                        <span className=\"btn-sm btn-primary\">{summary.currency} {summary.incomeSummary.totalExpected}</span>\r\n                    </div>\r\n                    <div className={cardTxtClassList}>\r\n                        <span className=\"fw-bold\">Total Received:</span>\r\n                        <span className={`btn-sm ${summary.incomeSummary.totalReceived > 0 ? \"btn-success\" : \"btn-danger\"}`}>\r\n                            {summary.currency} {summary.incomeSummary.totalReceived}</span>\r\n                    </div>\r\n                </>}\r\n                footer={<div className={cardTxtClassList}>\r\n                    <span className=\"fw-bold\">Remaining:</span>\r\n                    <span className={`btn-sm ${summary.incomeSummary.remaining <= 0 ? \"btn-success\" : \"btn-danger\"}`}>\r\n                        {summary.currency} {summary.incomeSummary.remaining}</span>\r\n                </div>\r\n                } />\r\n            <Card\r\n                header={<div><Link\r\n                    to={\"expenses\"}>\r\n                    Expenses\r\n                </Link>\r\n                </div>}\r\n                body={<>\r\n                    <div className={cardTxtClassList}>\r\n                        <span className=\"fw-bold\">Total Expenditure:</span>\r\n                        <span className=\"btn-sm btn-primary\">{summary.currency} {summary.expenseSummary.totalExpenditure}</span>\r\n                    </div>\r\n                    <div className={cardTxtClassList}>\r\n                        <span className=\"fw-bold\">Previous Balance:</span>\r\n                        <span className={`btn-sm ${summary.expenseSummary.previousBalance > 0 ? \"btn-success\" : \"btn-danger\"}`}>\r\n                            {summary.currency} {summary.expenseSummary.previousBalance}</span>\r\n                    </div>\r\n                </>}\r\n                footer={<div className={cardTxtClassList}>\r\n                    <span className=\"fw-bold\">Balance:</span>\r\n                    <span className={`btn-sm ${summary.expenseSummary.balance > 0 ? \"btn-success\" : \"btn-danger\"}`}>\r\n                        {summary.currency} {summary.expenseSummary.balance}</span>\r\n                </div>\r\n                } />\r\n        </div>\r\n    );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { UpdateIncomeModal, ViewIncomeModal } from '../../components/components';\r\n\r\nimport './Incomes.css';\r\n\r\nexport default function Incomes({ dependencies: [setModalContent, setSpinner, setAlert] }) {\r\n  const { collectionId } = useParams();\r\n  const [incomeData, setIncomeData] = useState({\r\n    currency: \"\",\r\n    totalExpected: \"\",\r\n    totalReceived: \"\",\r\n    incomes: []\r\n  });\r\n\r\n  const getIncomes = () => {\r\n    setSpinner(true);\r\n    axios.get(`getIncomes/${collectionId}`).then(\r\n      res => {\r\n        setIncomeData(res.data);\r\n        setSpinner(false);\r\n      },\r\n      err => {\r\n        if (err.response.data.message !== undefined) {\r\n          setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n        }\r\n        else {\r\n          setAlert({ class: \"alert-danger\", message: err.response.data });\r\n        }\r\n        setSpinner(false);\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getIncomes();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"card shadow mx-3 table-responsive\">\r\n      <table className=\"table table-striped mb-2\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Flat Code</th>\r\n            <th scope=\"col\">Owner</th>\r\n            <th scope=\"col\">Expected Amount</th>\r\n            <th scope=\"col\">Status</th>\r\n            <th scope=\"col\">Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {incomeData.incomes.length > 0 && incomeData.incomes.map(income => {\r\n            return <tr key={income.id}>\r\n              <td>\r\n                <div role=\"button\" className=\"btn-sm shadow btn-primary\" onClick={() => setModalContent(<ViewIncomeModal\r\n                  incomeId={income.id}\r\n                  expectedAmount={income.expectedAmount}\r\n                  setModalContent={setModalContent}\r\n                  setAlert={setAlert}\r\n                  getIncomes={getIncomes} />)}>\r\n                  {income.flatCode}\r\n                </div>\r\n              </td>\r\n              <td>{income.owner}</td>\r\n              <td>{income.expectedAmount}</td>\r\n              <td>\r\n                <div className={`btn-sm ${income.isPaid ? \"btn-success\" : \"btn-danger\"}`}>\r\n                  {income.isPaid ? \"Paid\" : \"Due\"}\r\n                </div>\r\n              </td>\r\n              <td><i role=\"button\" className=\"btn-sm fa fa-edit text-primary\"\r\n                onClick={() => setModalContent(<UpdateIncomeModal\r\n                      incomeId={income.id}\r\n                      expectedAmount={income.expectedAmount}\r\n                      setModalContent={setModalContent}\r\n                      setAlert={setAlert}\r\n                      getIncomes={getIncomes} />)}\r\n              ></i></td>\r\n            </tr>;\r\n          })\r\n\r\n          }\r\n          <tr className=\"bg-dark\">\r\n            <td className=\"text-white\">Total</td>\r\n            <td></td>\r\n            <td className=\"text-white\">{incomeData.totalExpected}</td>\r\n            <td></td>\r\n            <td></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { AddExpenseModal, DeleteModal, EditExpenseModal, ViewExpenseModal } from '../../components/components';\r\n\r\nimport './Expenses.css';\r\n\r\nexport default function Expenses({ dependencies: [setModalContent, setSpinner, setAlert] }) {\r\n  const { collectionId } = useParams();\r\n  const [expenseData, setExpenseData] = useState({\r\n    currency: \"\",\r\n    totalExpenditure: \"\",\r\n    expenses: []\r\n  });\r\n\r\n  const getExpenses = () => {\r\n    setSpinner(true);\r\n    axios.get(`getExpenses/${collectionId}`).then(\r\n      res => {\r\n        setExpenseData(res.data);\r\n        setSpinner(false);\r\n      },\r\n      err => {\r\n        if (err.response.data.message !== undefined) {\r\n          setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n        }\r\n        else {\r\n          setAlert({ class: \"alert-danger\", message: err.response.data });\r\n        }\r\n        setSpinner(false);\r\n      }\r\n    );\r\n  };\r\n  useEffect(getExpenses, []);\r\n  return (\r\n    <>\r\n      <div className=\"card shadow mx-3 table-responsive\">\r\n        {expenseData.expenses.length > 0 ?\r\n          <table className=\"table table-striped mb-2\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Expense Head</th>\r\n                <th scope=\"col\">Expense Amount</th>\r\n                <th scope=\"col\">Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {expenseData.expenses.map((expense, i) => {\r\n                return <tr key={i}>\r\n                  <td><div role=\"button\" className=\"shadow btn-sm btn-primary\"\r\n                    onClick={() => setModalContent(<ViewExpenseModal\r\n                      expenseId={expense.id}\r\n                      setModalContent={setModalContent}\r\n                      />)}>\r\n                    {expense.expenseEntity}</div></td>\r\n                  <td><div className=\"btn-sm btn-danger\">{expense.expenseAmount}</div></td>\r\n                  <td><i role=\"button\" className=\"btn-sm fa fa-edit text-primary\"\r\n                    onClick={() => setModalContent(<EditExpenseModal\r\n                      expenseId={expense.id}\r\n                      setModalContent={setModalContent}\r\n                      setAlert={setAlert}\r\n                      getExpenses={getExpenses} />)}\r\n                  ></i>\r\n                    <i role=\"button\" className=\"btn-sm fa fa-trash-alt text-danger\"\r\n                      onClick={() => setModalContent(<DeleteModal\r\n                        deleteUrl={`deleteExpense/${expense.id}`}\r\n                        entityName={\"expense on \" + expense.expenseEntity}\r\n                        setModalContent={setModalContent}\r\n                        setAlert={setAlert}\r\n                        getEntities={getExpenses} />)}\r\n                    ></i></td>\r\n                </tr>;\r\n              })\r\n\r\n              }\r\n              <tr className=\"bg-dark\">\r\n                <td className=\"text-white\">Total</td>\r\n                <td className=\"text-white\">{expenseData.totalExpenditure}</td>\r\n                <td></td>\r\n              </tr>\r\n            </tbody>\r\n          </table> : <div className=\"card-body text-center\">No expenses yet</div>\r\n        }\r\n      </div>\r\n      <div className=\"text-center\">\r\n        <button type=\"button\" className=\"btn btn-primary encircle-lg\"\r\n          onClick={() => setModalContent(<AddExpenseModal\r\n                collectionId={collectionId}\r\n                setModalContent={setModalContent}\r\n                setAlert={setAlert}\r\n                getExpenses={getExpenses} />)}>\r\n          <i className=\"fa fa-plus\"></i>\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport { getLongDate } from '../../others/helper';\r\n\r\nexport default function Transactions({ dependencies: [setSpinner, setAlert] }) {\r\n    const { societyId } = useParams();\r\n    const [details, setDetails] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setSpinner(true);\r\n        axios.get(`getTransactions/${societyId}`).then(\r\n            res => {\r\n                setDetails(res.data);\r\n                setSpinner(false);\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n                setSpinner(false);\r\n            }\r\n        );\r\n    }, []);\r\n    return (\r\n        <div className=\"table-responsive card shadow mx-3\">\r\n            {details.length > 0 ?\r\n                <table className=\"table table-striped mb-2\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">ID</th>\r\n                            <th scope=\"col\">Sender</th>\r\n                            <th scope=\"col\">Receiver</th>\r\n                            <th scope=\"col\">Amount</th>\r\n                            <th scope=\"col\">Date</th>\r\n                            <th scope=\"col\">Payment Method</th>\r\n                            <th scope=\"col\" className=\"px-5\">Comment</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {details.map(transaction => {\r\n                            return <tr key={transaction.public_id}>\r\n                                <td>{transaction.public_id}</td>\r\n                                <td>{transaction.sender.name + (\r\n                                    transaction.sender.flatCode ? `(${transaction.sender.flatCode})` : ``)}</td>\r\n                                <td>{transaction.receiver.name + (\r\n                                    transaction.receiver.flatCode ? `(${transaction.receiver.flatCode})` : ``)}</td>\r\n                                <td>{transaction.amount}</td>\r\n                                <td>{getLongDate(transaction.date)}</td>\r\n                                <td>{transaction.paymentMethod}</td>\r\n                                <td>{transaction.transactionComment}</td>\r\n                            </tr>;\r\n                        })\r\n                        }\r\n                    </tbody>\r\n                </table> : <div className=\"card-body text-center\">No transactions yet</div>}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport { AddSocietyUserModal, EditSocietyUserModal, ViewSocietyUserModal, DeleteModal } from '../../components/components';\r\n\r\nexport default function SocietyUsers({ dependencies: [setModalContent, setSpinner, setAlert] }) {\r\n  const [societyUsers, setSocietyUsers] = useState([]);\r\n  const { societyId } = useParams();\r\n\r\n  const getSocietyUsers = () => {\r\n    setSpinner(true);\r\n    axios.get(`getSocietyUsers/${societyId}`).then(\r\n      res => {\r\n        setSocietyUsers(res.data);\r\n        setSpinner(false);\r\n      },\r\n      err => {\r\n        if (err.response.data.message !== undefined) {\r\n          setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n        }\r\n        else {\r\n          setAlert({ class: \"alert-danger\", message: err.response.data });\r\n        }\r\n        setSpinner(false);\r\n      }\r\n    );\r\n  };\r\n  useEffect(getSocietyUsers, []);\r\n  return (\r\n    <>\r\n      <div className=\"card shadow mx-3 table-responsive\">\r\n        <table className=\"table table-striped mb-2\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Name</th>\r\n              <th scope=\"col\">Email ID</th>\r\n              <th scope=\"col\">Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {societyUsers.length > 0 && societyUsers.map((societyUser, i) => {\r\n              return <tr key={societyUser.id}>\r\n                <td><div role=\"button\" className={`btn-sm shadow ${societyUser.isAdmin?\"btn-primary\":\"btn-secondary\"}`}\r\n                onClick={()=>setModalContent(<ViewSocietyUserModal\r\n                initialDetails={societyUser}\r\n                setModalContent={setModalContent}\r\n                />)}\r\n                >\r\n                  {societyUser.name}</div></td>\r\n                <td><div className=\"btn-sm btn-purple\">{societyUser.email}</div></td>\r\n                <td><i role=\"button\" className=\"btn-sm fa fa-edit text-primary\"\r\n                  onClick={() => setModalContent(<EditSocietyUserModal\r\n                    initialDetails={societyUser}\r\n                    existingUsers={societyUsers}\r\n                    setModalContent={setModalContent}\r\n                    setAlert={setAlert}\r\n                    getSocietyUsers={getSocietyUsers}\r\n                  />)}\r\n                ></i>\r\n                  <i role=\"button\" className=\"btn-sm fa fa-trash-alt text-danger\"\r\n                    onClick={() => setModalContent(<DeleteModal\r\n                      deleteUrl={`/deleteSocietyUser/${societyUser.id}`} \r\n                      entityName={`user ${societyUser.email}`}\r\n                      setModalContent={setModalContent}\r\n                      setAlert={setAlert}\r\n                      getEntities={getSocietyUsers}\r\n                      />)}                      \r\n                  ></i></td>\r\n              </tr>;\r\n            })\r\n\r\n            }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div className=\"text-center\">\r\n        <button type=\"button\" className=\"btn btn-primary encircle-lg\"\r\n          onClick={() => setModalContent(<AddSocietyUserModal\r\n            societyId={societyId}\r\n            existingUsers={societyUsers}\r\n            setModalContent={setModalContent}\r\n            setAlert={setAlert}\r\n            getSocietyUsers={getSocietyUsers}\r\n          />)}>\r\n          <i className=\"fa fa-plus\"></i>\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { stringContainsNumber } from '../../others/helper';\r\n\r\nexport default function BasicDetails({ dependencies: [setSpinner, setAlert] }) {\r\n    const [details, setDetails] = useState({ name: \"\", email: \"\", phone: \"\" });\r\n    const [errors, setErrors] = useState({});\r\n    const defaultErr = \"Please enter a value\";\r\n    const outlineRed = \" outline-red\";\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        for (const item in details) {\r\n            if (item !== \"phone\" && !details[item]) {\r\n                errors[item] = defaultErr;\r\n            }\r\n        }\r\n        for (const item in errors) {\r\n            if (errors[item]) {\r\n                setAlert({ class: \"alert-danger\", message: \"Please fill required details\" });\r\n                return;\r\n            }\r\n        }\r\n        axios.put('updateUserDetails', { ...details }).then(\r\n            res => {\r\n                setAlert({ class: \"alert-success\", message: res.data.message });\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target;\r\n        setDetails({ ...details, [name]: value });\r\n\r\n    };\r\n\r\n    const validateFields = e => {\r\n        const { name, value } = e.target;\r\n        if (name !== \"phone\" && value === \"\") {\r\n            setErrors({ ...errors, [name]: defaultErr });\r\n            return;\r\n        }\r\n\r\n        if (name === \"name\") {\r\n            let specialChars = /[!@#$%^&*()_+=[\\]{};':\"\\\\|<>/?]+/;\r\n            if (stringContainsNumber(value)) {\r\n                setErrors({ ...errors, [name]: \"Name cannot contain numbers\" });\r\n                return;\r\n            }\r\n            else if (specialChars.test(value)) {\r\n                setErrors({ ...errors, [name]: \"Name cannot contain special characters\" });\r\n                return;\r\n            }\r\n        }\r\n\r\n        setErrors({ ...errors, [name]: \"\" });\r\n    };\r\n\r\n    const getUserDetails = () => {\r\n        setSpinner(true);\r\n        axios.get('getUserDetails').then(\r\n            res => {\r\n                setSpinner(false);\r\n                setDetails({ ...details, ...res.data });\r\n            },\r\n            err => console.log(err)\r\n        );\r\n    };\r\n\r\n    useEffect(getUserDetails, []);\r\n\r\n    return (\r\n        <div className=\"container d-flex justify-content-center\">\r\n            <div className=\"card shadow p-3 col-12 col-md-8 col-lg-6 col-xl-5\">\r\n                <h5 className=\"pb-2\">Basic Details</h5>\r\n                <form className=\"form-horizontal\" onSubmit={submitHandler}>\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"text\" name=\"name\" className={\"form-control form-control-lg\" + (errors.name ? outlineRed : \"\")}\r\n                            onChange={handleChange} value={details.name} onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\">Name</label>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.name}</div>\r\n\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"email\" name=\"name\" className=\"form-control form-control-lg\"\r\n                            onChange={handleChange} value={details.email} onBlur={validateFields} disabled />\r\n                        <label className=\"form-label floating-label\">Email</label>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.email}</div>\r\n\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"number\" name=\"phone\" className={\"form-control form-control-lg hidden-arrows\" + (errors.phone ? outlineRed : \"\")}\r\n                            onChange={handleChange} value={details.phone} onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\">Phone</label>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.phone}</div>\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <button className=\"btn btn-primary\" type=\"submit\">Save</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function ChangePassword({ dependencies: [setSpinner, setAlert] }) {\r\n    const [details, setDetails] = useState({ currPassword: \"\", newPassword: \"\" });\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [errors, setErrors] = useState({});\r\n    const defaultErr = \"Please enter a value\";\r\n    const outlineRed = \" outline-red\";\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        for (const item in details) {\r\n            if (!details[item]) {\r\n                errors[item] = defaultErr;\r\n            }\r\n        }\r\n        for (const item in errors) {\r\n            if (errors[item]) {\r\n                setAlert({ class: \"alert-danger\", message: \"Please fill required details\" });\r\n                return;\r\n            }\r\n        }\r\n        axios.put('changePassword', { ...details }).then(\r\n            res => {\r\n                setAlert({ class: \"alert-success\", message: res.data.message });\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target;\r\n        setDetails({ ...details, [name]: value });\r\n    };\r\n\r\n    const validateFields = e => {\r\n        const { name, value } = e.target;\r\n        if (value === \"\") {\r\n            setErrors({ ...errors, [name]: defaultErr });\r\n            return;\r\n        }\r\n\r\n        else if (name === \"confirm_password\") {\r\n            if (details.newPassword !== value) {\r\n                setErrors({ ...errors, [name]: \"Password do not match\" });\r\n                return;\r\n            }\r\n        }\r\n\r\n        setErrors({ ...errors, [name]: \"\" });\r\n    };\r\n\r\n    return (\r\n        <div className=\"container d-flex justify-content-center mt-3\">\r\n            <div className=\"card shadow p-3 col-12 col-md-8 col-lg-6 col-xl-5\">\r\n                <h5 className=\"pb-2\">Change Password</h5>\r\n                <form className=\"form-horizontal\" onSubmit={submitHandler}>\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"password\" name=\"currPassword\" className={\"form-control form-control-lg\" + (errors.currPassword ? outlineRed : \"\")}\r\n                            onChange={handleChange} value={details.currPassword} onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\" >Current Password</label>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.currPassword}</div>\r\n\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"password\" name=\"newPassword\" className={\"form-control form-control-lg\" + (errors.newPassword ? outlineRed : \"\")}\r\n                            onChange={handleChange} value={details.newPassword} onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\" >New Password</label>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.newPassword}</div>\r\n\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"password\" name=\"confirm_password\" className={\"form-control form-control-lg\" + (errors.confirm_password ? outlineRed : \"\")}\r\n                            onChange={e => setConfirmPassword(e.currentTarget.value)} value={confirmPassword} onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\" >Confirm New Password</label>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.confirm_password}</div>\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <button className=\"btn btn-primary\" type=\"submit\">Change</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function SecurityQuestions({ dependencies: [setAlert] }) {\r\n    const [details, setDetails] = useState({ currentPassword: \"\", questions: [] });\r\n    const [target, reRender] = useState();\r\n    const [errors, setErrors] = useState({});\r\n    const [securityQuestions, setSecurityQuestions] = useState([]);\r\n    const defaultErr = \"Please enter a value\";\r\n    const outlineRed = \" outline-red\";\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        for (const item in details) {\r\n            if (!details[item]) {\r\n                errors[item] = defaultErr;\r\n            }\r\n        }\r\n        for (const item in errors) {\r\n            if (errors[item]) {\r\n                setAlert({ class: \"alert-danger\", message: \"Please fill required details\" });\r\n                return;\r\n            }\r\n        }\r\n\r\n        const questions = document.getElementsByClassName(\"securityQuestion\");\r\n        const answers = document.getElementsByClassName(\"answer\");\r\n\r\n        details.questions = [];\r\n        for(let i=0; i< questions.length; i++){\r\n            details.questions.push({id: questions[i].value, answer: answers[i].value});\r\n        }\r\n\r\n        axios.post('setSecurityQuestions', { ...details }).then(\r\n            res => {\r\n                setAlert({ class: \"alert-success\", message: res.data.message });\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target;\r\n        setDetails({ ...details, [name]: value });\r\n\r\n    };\r\n\r\n    const validateFields = e => {\r\n        const { name, value } = e.target;\r\n        if (value === \"\") {\r\n            setErrors({ ...errors, [name]: defaultErr });\r\n            return;\r\n        }\r\n        setErrors({ ...errors, [name]: \"\" });\r\n    };\r\n\r\n    const getSecurityQuestions = () => {\r\n        axios.get('getSecurityQuestions').then(\r\n            res => setSecurityQuestions(res.data),\r\n            err => console.log(err)\r\n        );\r\n    };\r\n\r\n    const setQuestionSuggestion = target => {\r\n        const usedQuestions = [...document.getElementsByClassName(\"securityQuestion\")]\r\n        .map(q => target && q.value!==target.value?q.value: \"\");\r\n        return securityQuestions.map((item, i) =>\r\n        <option key={i} value={item.id}\r\n        style={{display: usedQuestions.includes(item.id.toString())?\"none\":\"block\"}}>{item.question}</option>);\r\n    };\r\n    useEffect(getSecurityQuestions, []);\r\n\r\n    return (\r\n        <div className=\"container d-flex justify-content-center mt-3\">\r\n            <div className=\"card shadow p-3 col-12 col-md-8 col-lg-6 col-xl-5\">\r\n                <h5 className=\"pb-2\">Set Security Questions</h5>\r\n                <form className=\"form-horizontal\" onSubmit={submitHandler}>\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"password\" name=\"currentPassword\" className={\"form-control form-control-lg\" + (errors.currentPassword ? outlineRed : \"\")}\r\n                            onChange={handleChange} value={details.currentPassword} onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\" >Current Password</label>\r\n                    </div>\r\n                    <div className=\"validation-error\">{errors.currentPassword}</div>\r\n\r\n                    <div className=\"form-outline mb-3\">\r\n                        <select className=\"form-select form-select-lg securityQuestion\" name=\"question1\"\r\n                         onFocus={e=>reRender(e.currentTarget)}>\r\n                            <option style={{ display: \"none\" }}></option>\r\n                            {setQuestionSuggestion(target)}\r\n                        </select>\r\n                        <label className=\"form-label floating-label\">Question 1</label>\r\n                    </div>\r\n\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"text\" className=\"form-control form-control-lg answer\" name=\"answer1\"\r\n                            onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\">Answer 1</label>\r\n                    </div>\r\n                    <div className=\"validation-error mb-3\">{errors.answer1}</div>\r\n\r\n                    <div className=\"form-outline mb-3\">\r\n                        <select className=\"form-select form-select-lg securityQuestion\" name=\"question2\"\r\n                         onFocus={e=>reRender(e.currentTarget)}>\r\n                            <option style={{ display: \"none\" }}></option>\r\n                            {setQuestionSuggestion(target)}\r\n                        </select>\r\n                        <label className=\"form-label floating-label\">Question 2</label>\r\n                    </div>\r\n\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"text\" className=\"form-control form-control-lg answer\" name=\"answer2\"\r\n                            onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\">Answer 2</label>\r\n                    </div>\r\n                    <div className=\"validation-error mb-3\">{errors.answer2}</div>\r\n\r\n                    <div className=\"form-outline mb-3\">\r\n                        <select className=\"form-select form-select-lg securityQuestion\" name=\"question3\"\r\n                         onFocus={e=>reRender(e.currentTarget)}>\r\n                            <option style={{ display: \"none\" }}></option>\r\n                            {setQuestionSuggestion(target)}\r\n                        </select>\r\n                        <label className=\"form-label floating-label\">Question 3</label>\r\n                    </div>\r\n\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"text\" className=\"form-control form-control-lg answer\" name=\"answer3\"\r\n                            onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\">Answer 3</label>\r\n                    </div>\r\n                    <div className=\"validation-error mb-3\">{errors.answer3}</div>\r\n\r\n                    <div className=\"form-outline mb-3\">\r\n                        <select className=\"form-select form-select-lg securityQuestion\" name=\"question4\"\r\n                         onFocus={e=>reRender(e.currentTarget)}>\r\n                            <option style={{ display: \"none\" }}></option>\r\n                            {setQuestionSuggestion(target)}\r\n                        </select>\r\n                        <label className=\"form-label floating-label\">Question 4</label>\r\n                    </div>\r\n\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"text\" className=\"form-control form-control-lg answer\" name=\"answer4\"\r\n                            onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\">Answer 4</label>\r\n                    </div>\r\n                    <div className=\"validation-error mb-3\">{errors.answer4}</div>\r\n\r\n                    <div className=\"form-outline mb-3\">\r\n                        <select className=\"form-select form-select-lg securityQuestion\" name=\"question5\"\r\n                         onFocus={e=>reRender(e.currentTarget)}>\r\n                            <option style={{ display: \"none\" }}></option>\r\n                            {setQuestionSuggestion(target)}\r\n                        </select>\r\n                        <label className=\"form-label floating-label\">Question 5</label>\r\n                    </div>\r\n\r\n                    <div className=\"form-outline\">\r\n                        <input type=\"text\" className=\"form-control form-control-lg answer\" name=\"answer5\"\r\n                            onBlur={validateFields} />\r\n                        <label className=\"form-label floating-label\">Answer 5</label>\r\n                    </div>\r\n                    <div className=\"validation-error mb-3\">{errors.answer5}</div>\r\n\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <button className=\"btn btn-primary\" type=\"submit\">Save</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import BasicDetails from \"./BasicDetails\";\r\nimport ChangePassword from \"./ChangePassword\";\r\nimport SecurityQuestions from \"./SecurityQuestions\";\r\n\r\nexport default function UserDetails({ dependencies: [setSpinner, setAlert] }) {\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <BasicDetails dependencies={[setSpinner, setAlert]}></BasicDetails>\r\n            <ChangePassword dependencies={[setSpinner, setAlert]}></ChangePassword>\r\n            <SecurityQuestions dependencies={[setAlert]}></SecurityQuestions>\r\n        </div>\r\n    );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nexport default function ResetPassword({ token, setAlert }) {\r\n    const [details, setDetails] = useState({ password: \"\" });\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [errors, setErrors] = useState({});\r\n    const [isResetSuccess, setIsResetSuccess] = useState(false);\r\n    const defaultErr = \"Please enter a value\";\r\n    const outlineRed = \" outline-red\";\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        for (const item in details) {\r\n            if (!details[item]) {\r\n                errors[item] = defaultErr;\r\n            }\r\n        }\r\n        for (const item in errors) {\r\n            if (errors[item]) {\r\n                setAlert({ class: \"alert-danger\", message: \"Please fill required details\" });\r\n                return;\r\n            }\r\n        }\r\n\r\n        axios({\r\n            url: \"/resetPassword\",\r\n            method: \"POST\",\r\n            headers: { Authorization: \"Bearer \" + token },\r\n            data: details\r\n        }).then(\r\n            res => {\r\n                setAlert({ class: \"alert-success\", message: res.data.message });\r\n                setIsResetSuccess(true);\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target;\r\n        if (name !== \"confirm_password\") {\r\n            setDetails({ ...details, [name]: value });\r\n        }\r\n    };\r\n\r\n    const validateFields = e => {\r\n        const { name, value } = e.target;\r\n        if (value === \"\") {\r\n            setErrors({ ...errors, [name]: defaultErr });\r\n            return;\r\n        }\r\n        else if (name === \"confirm_password\" && details.password !== confirmPassword) {\r\n            setErrors({ ...errors, [name]: \"Password do not match\" });\r\n            return;\r\n        }\r\n        setErrors({ ...errors, [name]: \"\" });\r\n    };\r\n\r\n    if(isResetSuccess){\r\n        return <Navigate to={\"/login\"}/>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-3\">\r\n            <h5 className=\"pb-2\">Reset Password</h5>\r\n            <form className=\"form-horizontal\" onSubmit={submitHandler}>\r\n\r\n                <div className=\"form-outline\">\r\n                    <input type=\"password\" name=\"password\" className={\"form-control form-control-lg\" + (errors.password ? outlineRed : \"\")}\r\n                        onChange={handleChange} value={details.password} onBlur={validateFields} />\r\n                    <label className=\"form-label floating-label\" >New Password</label>\r\n                </div>\r\n                <div className=\"validation-error\">{errors.password}</div>\r\n\r\n                <div className=\"form-outline\">\r\n                    <input type=\"password\" name=\"confirm_password\" className={\"form-control form-control-lg\" + (errors.confirm_password ? outlineRed : \"\")}\r\n                        onChange={e => setConfirmPassword(e.currentTarget.value)} value={confirmPassword} onBlur={validateFields} />\r\n                    <label className=\"form-label floating-label\" >Confirm New Password</label>\r\n                </div>\r\n                <div className=\"validation-error\">{errors.confirm_password}</div>\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <button className=\"btn btn-primary\" type=\"submit\">Reset</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport ResetPassword from './ResetPassword';\r\n\r\nexport default function AnswerSecurityQuestions({ email, userQuestions, setAlert }) {\r\n    const [securityQuestions, setSecurityQuestions] = useState([...userQuestions]);\r\n    const [errors, setErrors] = useState({});\r\n    const [token, setToken] = useState(\"\");\r\n\r\n    const defaultErr = \"Please enter a value\";\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        for (const item in securityQuestions) {\r\n            if (!securityQuestions[item]) {\r\n                errors[item] = defaultErr;\r\n            }\r\n        }\r\n        for (const item in errors) {\r\n            if (errors[item]) {\r\n                setAlert({ class: \"alert-danger\", message: \"Please fill required securityQuestions\" });\r\n                return;\r\n            }\r\n        }\r\n\r\n        axios.post('verifySecurityQuestions', {\r\n            questions: securityQuestions.map(q => { return { id: q.id, answer: q.answer }; }),\r\n            email: email\r\n        }).then(\r\n            res => setToken(res.data.token),\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const validateFields = e => {\r\n        const { name, value } = e.target;\r\n        if (value === \"\") {\r\n            setErrors({ ...errors, [name]: defaultErr });\r\n            return;\r\n        }\r\n        setErrors({ ...errors, [name]: \"\" });\r\n    };\r\n    \r\n    if(token){\r\n        return <ResetPassword token={token}\r\n        setAlert={setAlert} />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-3\">\r\n            <h5 className=\"pb-2\">Answer Security Questions</h5>\r\n            <form className=\"form-horizontal\" onSubmit={submitHandler}>\r\n\r\n                <div className=\"form-outline\">\r\n                    <input className=\"form-control form-control-lg securityAnswer\" name=\"answer1\"\r\n                        onChange={e => { securityQuestions[0].answer = e.currentTarget.value; setSecurityQuestions([...securityQuestions]); }}\r\n                        value={securityQuestions[0].answer}\r\n                        onBlur={validateFields}>\r\n                    </input>\r\n                    <label className=\"form-label floating-label\">{securityQuestions[0].question}</label>\r\n                </div>\r\n                <div className=\"validation-error\">{errors.answer1}</div>\r\n\r\n                <div className=\"form-outline\">\r\n                    <input className=\"form-control form-control-lg securityAnswer\" name=\"answer2\"\r\n                        onChange={e => { securityQuestions[1].answer = e.currentTarget.value; setSecurityQuestions([...securityQuestions]); }}\r\n                        value={securityQuestions[1].answer}\r\n                        onBlur={validateFields}>\r\n                    </input>\r\n                    <label className=\"form-label floating-label\">{securityQuestions[1].question}</label>\r\n                </div>\r\n                <div className=\"validation-error\">{errors.answer2}</div>\r\n\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <button className=\"btn btn-primary\" type=\"submit\">Submit</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport AnswerSecurityQuestions from './AnswerSecurityQuestions';\r\nimport axios from 'axios';\r\n\r\nexport default function ForgotPassword({ dependencies: [setSpinner, setAlert] }) {\r\n\r\n    const [details, setDetails] = useState({ email: \"\" });\r\n    const [errors, setErrors] = useState({});\r\n    const [userQuestions, setUserQuestions] = useState([]);\r\n\r\n    const defaultErr = \"Please enter a value\";\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        for (const item in details) {\r\n            if (!details[item]) {\r\n                errors[item] = defaultErr;\r\n            }\r\n        }\r\n        for (const item in errors) {\r\n            console.log(errors);\r\n            if (errors[item]) {\r\n                setAlert({ class: \"alert-danger\", message: \"Please fill required details\" });\r\n                return;\r\n            }\r\n        }\r\n\r\n        axios.post('getUserQuestions', details).then(\r\n            res => {\r\n                setUserQuestions(res.data);\r\n            },\r\n            err => {\r\n                if (err.response.data.message !== undefined) {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data.message });\r\n                }\r\n                else {\r\n                    setAlert({ class: \"alert-danger\", message: err.response.data });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const validateFields = e => {\r\n        const { dataset, value } = e.target;\r\n        const name = dataset.name;\r\n        if (value === \"\") {\r\n            setErrors({ ...errors, [name]: defaultErr });\r\n            return;\r\n        }\r\n\r\n        else if (name === \"email\") {\r\n            let validEmail = /^\\S+@\\S+\\.\\S+$/;\r\n            if (!validEmail.test(value)) {\r\n                setErrors({ ...errors, [name]: \"Please enter a valid email id\" });\r\n                return;\r\n            }\r\n        }\r\n        setErrors({ ...errors, [name]: \"\" });\r\n    };\r\n\r\n    useEffect(() => {\r\n        setSpinner(false);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"container p-3\">\r\n        <div className='card shadow col-12 col-md-8 col-lg-6 col-xl-5 m-auto'>\r\n            {(() => {\r\n                if (userQuestions.length === 0) {\r\n                    return <div className=\"card-body\">\r\n                        <h6 className=\"pb-2\">Please enter your email id</h6>\r\n                    <form onSubmit={submitHandler}>\r\n                    <div className=\"form-outline mb-4\">\r\n                        <input type=\"email\" className=\"form-control form-control-lg\" data-name=\"email\"\r\n                            onChange={e => setDetails({...details, email: e.currentTarget.value})}\r\n                            value={details.email}\r\n                            onBlur={validateFields}>\r\n                        </input>\r\n                        <label className=\"form-label floating-label\">Email ID</label>\r\n                        <div className=\"validation-error\">{errors.email}</div>\r\n                    </div>\r\n                        <div className=\"d-flex justify-content-end\">\r\n                            <button className=\"btn btn-primary\" type=\"submit\">Submit</button>\r\n                        </div>\r\n                    </form>\r\n                    </div>;\r\n                }\r\n                else {\r\n                    return <AnswerSecurityQuestions\r\n                    email={details.email}\r\n                    setAlert={setAlert}\r\n                    userQuestions={[...userQuestions]}\r\n                    ></AnswerSecurityQuestions>;\r\n                }\r\n            })()}\r\n        </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nexport default function About({dependencies: [setSpinner]}) {\r\n\r\n    useEffect(()=>{\r\n        setSpinner(false);\r\n    });\r\n    \r\n  return (\r\n    <div className=\"card shadow mx-3\">\r\n        <div className=\"card-body\">\r\n            <p className=\"p-3\">Helps to manage societies, flats, members and collections</p>\r\n            <hr />\r\n            <h5>Steps to start with:</h5>\r\n            <ul>\r\n                <li>Sign up and login to the application</li>\r\n                <li>Add a society using '+' button</li>\r\n                <li>Now add users in the society using (...) option present on card</li>\r\n                <li>Navigate to the society by clicking on the title</li>\r\n                <li>Add flats in society using '+' button</li>\r\n                <li>Add owner and members inside flat by click on edit icon</li>\r\n                <li>Once flats and their owners are added, navigate to collections section using (...) on society card</li>\r\n                <li>Select appropriate collection type and add collections</li>\r\n                <li>Navigate to collection by clicking on title</li>\r\n                <li>Mangage from income section, expected income amount will already be added based on collection type</li>\r\n                <li>Add expenses which took place for that collection</li>\r\n            </ul>\r\n            <p className=\"pt-5 text-center\">version 1.0.0</p>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n","import './App.css';\nimport {\n  Home, LoginForm, SignUpForm, FlatList, Collections, CollectionSummary,\n  Incomes, Expenses, Transactions, SocietyUsers, UserDetails, ForgotPassword, About\n} from './pages/pages';\nimport { AppHeader, Loading, Modal, Alert, NavBar } from './components/components';\nimport { Route, Routes } from \"react-router-dom\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [user, setUser] = useState({ \"user_full_name\": null });\n  const [spinner, setSpinner] = useState(true);\n  const [modalContent, setModalContent] = useState(null);\n  const [alert, setAlert] = useState({ class: \"\", message: \"\" });\n\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  const getUser = () => {\n    if (localStorage.getItem('token')) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${localStorage.getItem('token')}`;\n      axios.get('getUserName').then(\n        res => setUser(res.data),\n        err => setUser({ \"user_full_name\": \"\" })\n      );\n    }\n    else {\n      setUser({ \"user_full_name\": \"\" });\n    }\n  };\n  return (\n    <div className=\"App\">\n      <Alert alert={alert} setAlert={setAlert}></Alert>\n      <NavBar user={user} setUser={setUser} />\n      <AppHeader />\n      <Loading spinner={spinner} />\n      <Modal modalContent={modalContent} />\n      <div className=\"pt-3\">\n        <Routes>\n          <Route path=\"login\" element={<LoginForm\n            dependencies={[getUser, user, setSpinner, setAlert]} />} />\n          <Route path=\"signup\" element={<SignUpForm\n            dependencies={[setSpinner, setAlert]} />} />\n          <Route path=\"forgot-password\" element={<ForgotPassword\n            dependencies={[setSpinner, setAlert]} />} />\n          {['home', '/'].map(path =>\n            <Route key={path} path={path}\n              element={<Home\n                dependencies={[user, setModalContent, setSpinner, setAlert]} />\n              } />)}\n          <Route path=\"about\" element={<About\n            dependencies={[setSpinner]} />} />\n          <Route path=\"societies/:societyId\" element={<FlatList\n            dependencies={[setModalContent, setSpinner, setAlert]} />} />\n          <Route path=\"societies/:societyId/users\" element={<SocietyUsers\n            dependencies={[setModalContent, setSpinner, setAlert]} />} />\n          <Route path=\"societies/:societyId/collections\" element={<Collections\n            dependencies={[setModalContent, setSpinner, setAlert]} />} />\n          <Route path=\"collections/:collectionId\" element={<CollectionSummary\n            dependencies={[setSpinner, setAlert]} />} />\n          <Route path=\"collections/:collectionId/incomes\" element={<Incomes\n            dependencies={[setModalContent, setSpinner, setAlert]} />} />\n          <Route path=\"collections/:collectionId/expenses\" element={<Expenses\n            dependencies={[setModalContent, setSpinner, setAlert]} />} />\n          <Route path=\"societies/:societyId/transactions\" element={<Transactions\n            dependencies={[setSpinner, setAlert]} />} />\n          <Route path=\"user-details\" element={<UserDetails\n            dependencies={[setSpinner, setAlert]} />} />\n        </Routes>\n      </div>\n    </div>\n  );\n}\n\n/*\n\n- payment methods\n- account types\n- dark-mode\n- sorting\n- load more\n- optimize flask libraries\n\n- transfer amount\n- trasaction public id\n- manage self details\n- change password\n- Edit and view income\n- edit, view, delete expense\n- separate collection, income and expense\n- view transactions\n- flat and collection count on clicking society\n- optimize\n- navbar like swiggy\n- fix responsive\n- role wise management\n- manage user role\n\n\n*/\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n// import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_BASE_URL;\r\naxios.defaults.headers.common['Authorization'] = `Bearer ${localStorage.getItem('token')}`;\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}